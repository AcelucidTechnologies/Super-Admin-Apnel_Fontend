"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[397],{2397:(H,Z,a)=>{a.r(Z),a.d(Z,{ExitModule:()=>J});var c=a(9808),g=a(1083),t=a(5e3);let h=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-exit"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"add-exit works!"),t.qZA())},styles:[""]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dialog-exit"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"dialog-exit works!"),t.qZA())},styles:[""]}),o})(),T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-exit"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"edit-exit works!"),t.qZA())},styles:[""]}),o})();var y=a(3583),p=a(574),v=a(2983),b=a.n(v),_=a(1561),C=a(7650),q=a(8441),f=a(8966),U=a(845),u=a(4851),E=a(9783),M=a(1424),D=a(4119);const O=["dt"];function L(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",12),t.TgZ(1,"div",13),t.TgZ(2,"div",14),t._UZ(3,"img",15),t.TgZ(4,"input",16,17),t.NdJ("input",function(i){return t.CHM(e),t.oxw().applyFilterGlobal(i,"contains")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().exportPdf()}),t._UZ(8,"img",19),t.qZA(),t.TgZ(9,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().exportExcel()}),t._UZ(10,"img",21),t.qZA(),t.qZA(),t.qZA()}}function P(o,s){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t.TgZ(2,"div",22),t._uU(3," S.No. "),t.qZA(),t.qZA(),t.TgZ(4,"th",23),t.TgZ(5,"div",22),t._uU(6," Employee ID "),t._UZ(7,"p-sortIcon",24),t.qZA(),t.qZA(),t.TgZ(8,"th",25),t.TgZ(9,"div",22),t._uU(10," Interviewer Type "),t._UZ(11,"p-sortIcon",26),t.qZA(),t.qZA(),t.TgZ(12,"th",27),t.TgZ(13,"div",22),t._uU(14," Sepration date "),t._UZ(15,"p-sortIcon",28),t.qZA(),t.qZA(),t.TgZ(16,"th",29),t.TgZ(17,"div",22),t._uU(18," Reason of Leaving "),t._UZ(19,"p-sortIcon",30),t.qZA(),t.qZA(),t.TgZ(20,"th",31),t.TgZ(21,"div",22),t._uU(22," Work with this organisation again "),t._UZ(23,"p-sortIcon",32),t.qZA(),t.qZA(),t.TgZ(24,"th",33),t.TgZ(25,"div",22),t._uU(26," What do you like the most of the organization "),t._UZ(27,"p-sortIcon",34),t.qZA(),t.qZA(),t.TgZ(28,"th",35),t.TgZ(29,"div",22),t._uU(30," Anything you want to share with us "),t._UZ(31,"p-sortIcon",36),t.qZA(),t.qZA(),t.TgZ(32,"th",33),t.TgZ(33,"div",22),t._uU(34," Registration Letter Submitted "),t._UZ(35,"p-sortIcon",34),t.qZA(),t.qZA(),t.TgZ(36,"th",37),t.TgZ(37,"div",22),t._uU(38," All Assets Submitted "),t._UZ(39,"p-sortIcon",38),t.qZA(),t.qZA(),t.TgZ(40,"th",37),t.TgZ(41,"div",22),t._uU(42," Notice Peroid Followed "),t._UZ(43,"p-sortIcon",38),t.qZA(),t.qZA(),t.TgZ(44,"th",37),t.TgZ(45,"div",22),t._uU(46," Manager/Supervior Clearance "),t._UZ(47,"p-sortIcon",38),t.qZA(),t.qZA(),t.TgZ(48,"th",37),t.TgZ(49,"div",22),t._uU(50," Added By "),t._UZ(51,"p-sortIcon",38),t.qZA(),t.qZA(),t.TgZ(52,"th",37),t.TgZ(53,"div",22),t._uU(54," Added Time "),t._UZ(55,"p-sortIcon",38),t.qZA(),t.qZA(),t.TgZ(56,"th",37),t.TgZ(57,"div",22),t._uU(58," Modified By "),t._UZ(59,"p-sortIcon",38),t.qZA(),t.qZA(),t.TgZ(60,"th",37),t.TgZ(61,"div",22),t._uU(62," Modified Time "),t._UZ(63,"p-sortIcon",38),t.qZA(),t.qZA(),t.TgZ(64,"th",39),t._uU(65,"Action"),t.qZA(),t.qZA())}const w=function(){return["/asset/edit-asset"]},S=function(o){return{id:o}};function I(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"span",40),t._uU(3,"Sr.no"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"date"),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"date"),t.qZA(),t.TgZ(25,"td"),t.TgZ(26,"div",41),t.TgZ(27,"a",42),t._UZ(28,"img",43),t.qZA(),t.TgZ(29,"a",44),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().openDialog(r)}),t._UZ(30,"img",45),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=s.$implicit,n=s.rowIndex;t.xp6(4),t.hij(" ",n+1," "),t.xp6(2),t.Oqu(e.emoloyeeId),t.xp6(2),t.Oqu(e.interviewerType),t.xp6(2),t.Oqu(e.assetsDetails),t.xp6(2),t.Oqu(e.reasonForLeaving),t.xp6(2),t.Oqu(e.returnDate),t.xp6(2),t.Oqu(e.addedBy),t.xp6(2),t.Oqu(t.xi3(19,12,e.createdAt,"MM/dd/yyyy")),t.xp6(3),t.Oqu(e.addedBy),t.xp6(2),t.Oqu(t.xi3(24,15,e.updatedAt,"MM/dd/yyyy")),t.xp6(5),t.Q6J("routerLink",t.DdM(18,w))("queryParams",t.VKq(19,S,e._id))}}function B(o,s){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",46),t._uU(2,"No records to show"),t.qZA(),t.qZA())}const F=function(){return["/exitmgmt/add-exit"]},k=function(){return["employeeId","interviewerType","typeOfAssets","reasonForLeaving","addedBy","createdAt","updatedAt"]},j=[{path:"exit-list",component:(()=>{class o{constructor(e,n,i,r){this.leaveService=e,this.toastr=n,this.ngxLoader=i,this.dialog=r,this.exitData=[],this.sidebarSpacing="contracted",this.statusList=["Active","Inactive"],this.getExitData()}ngOnInit(){}getExitData(){this.leaveService.getExitList().subscribe(e=>{this.exitData=e,console.log("51",this.exitData)})}openDialog(e){this.dialog.open(x).afterClosed().subscribe(i=>{1==i&&this.deleteAssetDetails(e)})}deleteAssetDetails(e){this.leaveService.deleteAsset(e._id).subscribe(n=>{n&&(this.toastr.showSuccess("Asset deleted successfully","Asset deleted"),this.getExitData())})}exportExcel(){const e=new c.uU("en-US"),n=this.exitData.map((d,G)=>({"S.No.":G+1,"Employee Id":d.emoloyeeId,"Given Date":d.interviewerType,"Assets Details":d.assetsDetails,"Type Of Assets":d.reasonForLeaving,"Return Date":d.returnDate,"Added By":d.addedBy,AddedTime:e.transform(d.createdAt,"MM/dd/yyyy"),"Modified By":d.addedBy,ModifiedTime:e.transform(d.updatedAt,"MM/dd/yyyy")})),i=p.utils.book_new(),r=p.utils.json_to_sheet(n);p.utils.book_append_sheet(i,r,"Sheet1");const l=this.workbookToBlob(i),A=URL.createObjectURL(l),m=document.createElement("a");m.href=A,m.download="table_data.xlsx",m.click(),URL.revokeObjectURL(A)}workbookToBlob(e){const n=p.write(e,{bookType:"xlsx",type:"array"});return new Blob([n],{type:"application/octet-stream"})}exportPdf(){this.exitDetails=this.exitData.map((r,l)=>Object.assign({sno:l+1},r));const e=new y.jsPDF("l","pt"),n=this.exitDetails.map(r=>Object.assign(Object.assign({},r),{createdAt:this.formatDate(r.createdAt),updatedAt:this.formatDate(r.updatedAt)}));b()(e,{columns:[{title:"S No.",dataKey:"sno"},{title:"Employee Id",dataKey:"emoloyeeId"},{title:"Assets Details ",dataKey:"interviewerType"},{title:"Type Of Assets",dataKey:"typeOfAssets"},{title:"Return Date",dataKey:"reasonForLeaving"},{title:"Added By",dataKey:"addedBy"},{title:"AddedTime",dataKey:"createdAt"},{title:"Modified By",dataKey:"addedBy"},{title:"ModifiedTime",dataKey:"updatedAt"}],body:n}),e.save("Asset List.pdf")}formatDate(e){const n=new Date(e);return`${String(n.getDate()).padStart(2,"0")}/${String(n.getMonth()+1).padStart(2,"0")}/${n.getFullYear()}`}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}applyFilterGlobal(e,n){const i=e.target.value;!i||/^\s*$/.test(i)?this.dt.filterGlobal("",n):this.dt.filterGlobal(i.trim(),n)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.e),t.Y36(C.$),t.Y36(q.LA),t.Y36(f.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-exit-list"]],viewQuery:function(e,n){if(1&e&&t.Gf(O,5),2&e){let i;t.iGM(i=t.CRH())&&(n.dt=i.first)}},decls:14,vars:10,consts:[[1,"container","page-heading"],[1,"row","mb-2","mt-2"],[1,"col-6"],[1,"col-6","text-right"],[1,"p-input-icon-right","ml-5"],["pButton","","type","button","label"," + Add Exit",1,"add-button-rating",3,"routerLink"],["id","customerTable","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","paginator","rows","showCurrentPageReport","value","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","p-0"],[1,"input-container"],["src","../../../assets/images/search-white.svg",1,"input-container-img"],["pInputText","","type","text","placeholder","Search...",3,"input"],["search",""],["pButton","","type","button","pTooltip","Pdf","tooltipPosition","bottom",1,"custom-image",3,"click"],["src","../../../../assets/images/pdf.svg","alt","Button Image"],["pButton","","type","button","pTooltip","Excel","tooltipPosition","bottom",1,"custom-image",3,"click"],["src","../../../../assets/images/excel.svg","alt","Button Image"],[1,"flex","justify-content-between","align-items-center","head1"],["pSortableColumn","emoloyeeId"],["field","emoloyeeId"],["pSortableColumn","interviewerType"],["field","interviewerType"],["pSortableColumn","assetsDetails"],["field","assetsDetails"],["pSortableColumn","reasonForLeaving"],["field","reasonForLeaving"],["pSortableColumn","returnDate"],["field","returnDate"],["pSortableColumn","addedBy"],["field","addedBy"],["pSortableColumn","createdAt"],["field","createdAt"],["pSortableColumn","updatedAt"],["field","updatedAt"],[1,"text-center"],[1,"p-column-title"],[2,"display","flex","align-items","center"],["pTooltip","Edit Asset","tooltipPosition","bottom",2,"margin-right","15px","cursor","pointer"],["src","../../../../assets/images/edit.svg","alt","img",3,"routerLink","queryParams"],["pTooltip","Delete Asset","tooltipPosition","bottom","href","javascript:void(0);",1,"me-3","confirm-text",3,"click"],["src","../../../../assets/images/delete.svg","alt","img"],["colspan","12",1,"text-danger"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h4"),t._uU(4,"Exit List"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"span",4),t._UZ(7,"button",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"p-table",6,7),t.YNc(10,L,11,0,"ng-template",8),t.YNc(11,P,66,0,"ng-template",9),t.YNc(12,I,31,21,"ng-template",10),t.YNc(13,B,3,0,"ng-template",11),t.qZA()),2&e&&(t.xp6(7),t.Q6J("routerLink",t.DdM(8,F)),t.xp6(1),t.Q6J("columns",n.cols)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("value",n.exitData)("responsive",!0)("globalFilterFields",t.DdM(9,k)))},directives:[U.Hq,g.rH,u.iA,E.jx,M.o,D.u,u.lQ,u.fz],pipes:[c.uU],styles:['[_nghost-%COMP%]  .captionFilter p-columnFilter .p-column-filter>button:before{content:"Filter";margin-right:10px}[_nghost-%COMP%]  .captionFilter p-columnFilter .p-column-filter>button{width:100px;height:40px;border-radius:3px;font-size:large;margin:1px 5px 1px 1px;padding:15px 20px;border:1px solid #ced4da}.page-heading[_ngcontent-%COMP%]{padding:0}.page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;letter-spacing:1.2px;word-spacing:.1rem}.add-button-rating[_ngcontent-%COMP%]{background-color:#f52e2e;color:#fff;border:none}.add-button-rating[_ngcontent-%COMP%]:hover{background-color:#f08080;color:#fff;border:none}.custom-image[_ngcontent-%COMP%], .custom-image[_ngcontent-%COMP%]:hover{background:none;border:none}.input-container[_ngcontent-%COMP%]{position:relative;border:.5px solid rgba(145,158,171,.32)!important}.input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:30px;font-size:.875rem}.custom-image[_ngcontent-%COMP%]{background:none;border:none}[_nghost-%COMP%]  .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background-color:#e41c1c;margin-bottom:10px;margin-top:10px;border-radius:5px}  .p-paginator{background:white!important;border:none!important}.head1[_ngcontent-%COMP%]{color:#000;text-align:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none!important;border-bottom:1px solid #d7c6c6!important;background-color:#fff!important;color:#000!important;justify-content:center}  .edit-delete-button{background-color:#fff!important;border:none!important}  .p-datatable .p-datatable-header{background:white;border:none}[_nghost-%COMP%]  .p-datatable .p-sortable-column .p-sortable-column-icon{color:#848484}[_nghost-%COMP%]  .p-datatable .p-sortable-column.p-highlight:hover .p-sortable-column-icon{color:#848484}.input-container-img[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:20px;height:20px;cursor:pointer}.input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:30px;font-size:.875rem;height:37px}']}),o})()},{path:"exit-delete",component:x},{path:"add-exit",component:h},{path:"edit-exit",component:T}];let R=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.Bz.forChild(j)],g.Bz]}),o})();var N=a(7423),K=a(529),Y=a(3075),z=a(4834);let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,R,f.Is,N.ot,K.m,Y.u5,z.t]]}),o})()}}]);