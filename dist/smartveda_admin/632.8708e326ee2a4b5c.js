"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[632],{4632:(fe,y,d)=>{d.r(y),d.d(y,{TravelModule:()=>Ze});var p=d(9808),c=d(1083),i=d(3075),e=d(5e3),m=d(8441),f=d(7650),h=d(1561),q=d(4107),F=d(508);function D(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," Employee Id is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.employeeId.errors.required)}}function U(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," Employee Name is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.employeeName.errors.required)}}function I(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," Journey date is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.journeyDate.errors.required)}}function M(r,n){1&r&&(e.TgZ(0,"div",33),e._uU(1," return date should be greater than or equal to from date "),e.qZA())}function J(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," return date is required "),e.qZA(),e.YNc(3,M,2,0,"div",32),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.returnDate.errors.required),e.xp6(2),e.Q6J("ngIf",(null==t.selectForm.controls.returnDate.errors?null:t.selectForm.controls.returnDate.errors.invalidreturnDate)&&(t.selectForm.controls.returnDate.touched||t.selectForm.controls.returnDate.dirty))}}function N(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," travel from is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.travelFrom.errors.required)}}function k(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," travel to is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.travelTo.errors.required)}}function O(r,n){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.email),e.xp6(1),e.Oqu(t.employeeFullName)}}function w(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," cc is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.addedBy.errors.required)}}function L(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," totalReimbursementAmount is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.totalReimbursementAmount.errors.required)}}function E(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," attachment is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.image.errors.required)}}function P(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",31),e._uU(2," purpose of travel is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.purposeTravel.errors.required)}}const _=function(){return["/travelexpense/travel-list"]};let Q=(()=>{class r{constructor(t,o,l,a,s){this.ngxLoader=t,this.fb=o,this.toastr=l,this.leaveservice=a,this.route=s,this.selectForm=this.fb.group({username:localStorage.getItem("email"),employeeId:["",[i.kI.required]],employeeName:["",[i.kI.required]],journeyDate:["",[i.kI.required]],returnDate:["",[i.kI.required,this.validateToDate.bind(this)]],travelFrom:["",[i.kI.required]],travelTo:["",[i.kI.required]],purposeTravel:["",[i.kI.required]],addedBy:["",[i.kI.required]],totalReimbursementAmount:["",[i.kI.required]],image:["",[i.kI.required]]})}getMinimumDate(){const t=new Date;return t.setDate(t.getDate()),t.toISOString().split("T")[0]}validateToDate(t){var o,l;const a=t.value,s=null===(l=null===(o=this.selectForm)||void 0===o?void 0:o.get("journeyDate"))||void 0===l?void 0:l.value;return!a||!s||new Date(s)<=new Date(a)?null:{invalidreturnDate:!0}}getAllEmail(){this.leaveservice.getEmail().subscribe(t=>{this.emailList=t,this.ngxLoader.stop(),console.log("email"+JSON.stringify(this.emailList))})}ngOnInit(){this.getAllEmail()}submit(){this.ngxLoader.start(),this.leaveservice.createTravel(this.selectForm.value).subscribe(t=>{this.travellist=t,t&&(this.ngxLoader.start(),console.log("100"+this.travellist),this.toastr.showSuccess("Travel expense added successfully","Expense Added")),this.route.navigate(["/travelexpense/travel-list"])})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.LA),e.Y36(i.qu),e.Y36(f.$),e.Y36(h.e),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-travel"]],decls:102,vars:19,consts:[[1,"button-heading-container"],[1,"mb-2","back-button",3,"routerLink"],[1,"material-icons"],[1,"card","pl-4","pr-4","pb-3","pt-4"],[3,"formGroup"],[1,"row","mb-4"],[1,"col-6"],[1,"row"],[1,"col-4"],[1,"starlabel"],[1,"col-8"],["formControlName","employeeId","placeholder","Enter employee name","type","text",1,"form-control","custom-placeholder","input-padding"],[4,"ngIf"],["formControlName","employeeName","placeholder","Enter employee name","type","text",1,"form-control","custom-placeholder","input-padding"],["formControlName","journeyDate","placeholder","Enter employee type","type","date",1,"form-control","custom-placeholder","input-padding",3,"min"],["formControlName","returnDate","placeholder","Enter Reason","type","date",1,"form-control","custom-placeholder","input-padding",3,"min"],[1,"row","mb-4","mt-2"],["formControlName","travelFrom","placeholder","Enter travel from","type","text",1,"form-control","custom-placeholder","input-padding"],["formControlName","travelTo","placeholder","Enter travel to","type","text",1,"form-control","custom-placeholder","input-padding"],["placeholder","appliedTo","formControlName","appliedTo","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","totalReimbursementAmount","placeholder","Enter total amount","type","text",1,"form-control","custom-placeholder","input-padding"],[1,"col-12"],[1,"col-2"],[1,"col-10"],["formControlName","image","placeholder","Enter added by","type","file",1,"form-control","custom-placeholder","input-padding"],["formControlName","purposeTravel","type","text","placeholder","Enter travel purpose ",1,"form-control","custom-placeholder","input-padding",2,"height","100px"],[1,"row","mb-5","mt-4"],[1,"d-flex","justify-content-end","col-11","mt-4"],["type","submit",1,"btn","btn-info","mr-3",2,"background","rgb(228, 28, 28)","border","none",3,"disabled","click"],[1,"btn","btn-info",2,"background","#637381","border","none",3,"routerLink"],[2,"color","rgb(253, 122, 122)","font-size","small","font-style","italic",3,"hidden"],["style","color: rgb(253, 122, 122); font-size: small; font-style: italic;",4,"ngIf"],[2,"color","rgb(253, 122, 122)","font-size","small","font-style","italic"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e.TgZ(2,"i",2),e._uU(3,"arrow_back"),e.qZA(),e.qZA(),e.TgZ(4,"h5"),e._uU(5,"\xa0Add Expense"),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"form",4),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e.TgZ(12,"label",9),e._uU(13,"Employee ID"),e.qZA(),e.qZA(),e.TgZ(14,"div",10),e._UZ(15,"input",11),e.YNc(16,D,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",6),e.TgZ(18,"div",7),e.TgZ(19,"div",8),e.TgZ(20,"label",9),e._uU(21,"Employee Name"),e.qZA(),e.qZA(),e.TgZ(22,"div",10),e._UZ(23,"input",13),e.YNc(24,U,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",5),e.TgZ(26,"div",6),e.TgZ(27,"div",7),e.TgZ(28,"div",8),e.TgZ(29,"label",9),e._uU(30,"Journey date"),e.qZA(),e.qZA(),e.TgZ(31,"div",10),e._UZ(32,"input",14),e.YNc(33,I,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",6),e.TgZ(35,"div",7),e.TgZ(36,"div",8),e.TgZ(37,"label",9),e._uU(38,"Return Date"),e.qZA(),e.qZA(),e.TgZ(39,"div",10),e._UZ(40,"input",15),e.YNc(41,J,4,2,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",16),e.TgZ(43,"div",6),e.TgZ(44,"div",7),e.TgZ(45,"div",8),e.TgZ(46,"label",9),e._uU(47,"Travel From"),e.qZA(),e.qZA(),e.TgZ(48,"div",10),e._UZ(49,"input",17),e.YNc(50,N,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",6),e.TgZ(52,"div",7),e.TgZ(53,"div",8),e.TgZ(54,"label",9),e._uU(55,"Travel To"),e.qZA(),e.qZA(),e.TgZ(56,"div",10),e._UZ(57,"input",18),e.YNc(58,k,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",16),e.TgZ(60,"div",6),e.TgZ(61,"div",7),e.TgZ(62,"div",8),e.TgZ(63,"label",9),e._uU(64,"CC"),e.qZA(),e.qZA(),e.TgZ(65,"div",10),e.TgZ(66,"mat-select",19),e.YNc(67,O,2,2,"mat-option",20),e.qZA(),e.YNc(68,w,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",6),e.TgZ(70,"div",7),e.TgZ(71,"div",8),e.TgZ(72,"label",9),e._uU(73,"Total Reimbursement Amount"),e.qZA(),e.qZA(),e.TgZ(74,"div",10),e._UZ(75,"input",21),e.YNc(76,L,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(77,"div",16),e.TgZ(78,"div",22),e.TgZ(79,"div",7),e.TgZ(80,"div",23),e.TgZ(81,"label",9),e._uU(82,"Attachment Of Bills"),e.qZA(),e.qZA(),e.TgZ(83,"div",24),e._UZ(84,"input",25),e.YNc(85,E,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",16),e.TgZ(87,"div",22),e.TgZ(88,"div",7),e.TgZ(89,"div",23),e.TgZ(90,"label",9),e._uU(91,"Purpose of Travel"),e.qZA(),e.qZA(),e.TgZ(92,"div",24),e._UZ(93,"textarea",26),e.YNc(94,P,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e._UZ(95,"div",6),e.qZA(),e.TgZ(96,"div",27),e.TgZ(97,"div",28),e.TgZ(98,"button",29),e.NdJ("click",function(){return o.submit()}),e._uU(99," Submit "),e.qZA(),e.TgZ(100,"button",30),e._uU(101," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(17,_)),e.xp6(6),e.Q6J("formGroup",o.selectForm),e.xp6(9),e.Q6J("ngIf",!o.selectForm.controls.employeeId.valid&&(o.selectForm.controls.employeeId.touched||o.selectForm.controls.employeeId.dirty)),e.xp6(8),e.Q6J("ngIf",!o.selectForm.controls.employeeName.valid&&(o.selectForm.controls.employeeName.touched||o.selectForm.controls.employeeName.dirty)),e.xp6(8),e.Q6J("min",o.getMinimumDate()),e.xp6(1),e.Q6J("ngIf",!o.selectForm.controls.journeyDate.valid&&(o.selectForm.controls.journeyDate.touched||o.selectForm.controls.journeyDate.dirty)),e.xp6(7),e.Q6J("min",o.getMinimumDate()),e.xp6(1),e.Q6J("ngIf",!o.selectForm.controls.returnDate.valid&&(o.selectForm.controls.returnDate.touched||o.selectForm.controls.returnDate.dirty)),e.xp6(9),e.Q6J("ngIf",!o.selectForm.controls.travelFrom.valid&&(o.selectForm.controls.travelFrom.touched||o.selectForm.controls.travelFrom.dirty)),e.xp6(8),e.Q6J("ngIf",!o.selectForm.controls.travelTo.valid&&(o.selectForm.controls.travelTo.touched||o.selectForm.controls.travelTo.dirty)),e.xp6(9),e.Q6J("ngForOf",o.emailList),e.xp6(1),e.Q6J("ngIf",!o.selectForm.controls.addedBy.valid&&(o.selectForm.controls.addedBy.touched||o.selectForm.controls.addedBy.dirty)),e.xp6(8),e.Q6J("ngIf",!o.selectForm.controls.totalReimbursementAmount.valid&&(o.selectForm.controls.totalReimbursementAmount.touched||o.selectForm.controls.totalReimbursementAmount.dirty)),e.xp6(9),e.Q6J("ngIf",!o.selectForm.controls.image.valid&&(o.selectForm.controls.image.touched||o.selectForm.controls.image.dirty)),e.xp6(9),e.Q6J("ngIf",!o.selectForm.controls.purposeTravel.valid&&(o.selectForm.controls.purposeTravel.touched||o.selectForm.controls.purposeTravel.dirty)),e.xp6(4),e.Q6J("disabled",!o.selectForm.valid),e.xp6(2),e.Q6J("routerLink",e.DdM(18,_)))},directives:[c.rH,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,p.O5,q.gD,p.sg,F.ey],styles:['.back-button[_ngcontent-%COMP%]{background:#e41c1c;color:#fff;border:none;padding:5px;border-radius:5px;width:40px}  .back-button:hover{background-color:#f08080!important}.button-heading-container[_ngcontent-%COMP%]{display:flex;align-items:center}.card-title[_ngcontent-%COMP%]{background-color:#5f9ea0;color:#f5f5f5;line-height:30px;padding-left:10px}label.starlabel[_ngcontent-%COMP%]:after{content:"*";color:#e41c1c}.custom-placeholder[_ngcontent-%COMP%]::placeholder{color:#495057}.form-control[_ngcontent-%COMP%]{color:#000}.mat-select[_ngcontent-%COMP%]{display:inline-block;width:100%;outline:none;border:1px solid lightgrey;height:40px;padding:5px 10px;color:#000}  .mat-select-placeholder{color:#000!important}']}),r})();var g=d(8966),A=d(7423);let x=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-dialog-travel"]],decls:11,vars:1,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","",1,"dialog1","button-color","mr-2",3,"mat-dialog-close"],["mat-button","","mat-dialog-close","",1,"dialog2"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"h2",0),e._uU(2,"Delete Travel Expense List"),e.qZA(),e.TgZ(3,"mat-dialog-content",1),e.TgZ(4,"h3"),e._uU(5,"Do you want to delete this Record?"),e.qZA(),e.qZA(),e.TgZ(6,"mat-dialog-actions",2),e.TgZ(7,"button",3),e._uU(8,"Yes, delete it!"),e.qZA(),e.TgZ(9,"button",4),e._uU(10,"Cancel"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.Q6J("mat-dialog-close",!0))},directives:[g.uh,g.xY,g.H8,A.lW,g.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:600px}[_nghost-%COMP%]  .dialog1{background:#e41c1c;color:#fff;border-radius:5px;outline:none}.dialog2[_ngcontent-%COMP%]{color:#fff;background:#637381;border-radius:5px;outline:none}.mat-dialog-title[_ngcontent-%COMP%], .mat-dialog-content[_ngcontent-%COMP%]{text-align:center}.mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}"]}),r})();function S(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",27),e._uU(2," Employee Id is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.employeeId.errors.required)}}function j(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",27),e._uU(2," Employee Name is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.employeeName.errors.required)}}function Y(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",27),e._uU(2," Journey date is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.journeyDate.errors.required)}}function R(r,n){1&r&&(e.TgZ(0,"div",29),e._uU(1," return date should be greater than or equal to from date "),e.qZA())}function B(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",27),e._uU(2," return date is required "),e.qZA(),e.YNc(3,R,2,0,"div",28),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.returnDate.errors.required),e.xp6(2),e.Q6J("ngIf",(null==t.selectForm.controls.returnDate.errors?null:t.selectForm.controls.returnDate.errors.invalidreturnDate)&&(t.selectForm.controls.returnDate.touched||t.selectForm.controls.returnDate.dirty))}}function z(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",27),e._uU(2," travel from is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.travelFrom.errors.required)}}function $(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",27),e._uU(2," travel to is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.travelTo.errors.required)}}function H(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",27),e._uU(2," purpose of travel is required "),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.selectForm.controls.purposeTravel.errors.required)}}const C=function(){return["/travelexpense/travel-list"]};let G=(()=>{class r{constructor(t,o,l,a,s,T){this.ngxLoader=t,this.fb=o,this.toastr=l,this.leaveservice=a,this.activatedRoute=s,this.route=T,this.activatedRoute.queryParamMap.subscribe(v=>{this.id=v.get("id")}),this.selectForm=this.fb.group({username:localStorage.getItem("email"),employeeId:["",[i.kI.required]],employeeName:["",[i.kI.required]],journeyDate:["",[i.kI.required]],returnDate:["",[i.kI.required,this.validateToDate.bind(this)]],travelFrom:["",[i.kI.required]],travelTo:["",[i.kI.required]],purposeTravel:["",[i.kI.required]]})}getMinimumDate(){const t=new Date;return t.setDate(t.getDate()),t.toISOString().split("T")[0]}validateToDate(t){var o,l;const a=t.value,s=null===(l=null===(o=this.selectForm)||void 0===o?void 0:o.get("journeyDate"))||void 0===l?void 0:l.value;return!a||!s||new Date(s)<=new Date(a)?null:{invalidreturnDate:!0}}getTravelDetail(){this.leaveservice.getTravelById(this.id).subscribe(t=>{const o=this.convertDateFormat(t.journeyDate),l=this.convertDateFormat(t.returnDate);this.selectForm.patchValue({employeeId:t.employeeId,employeeName:t.employeeName,journeyDate:o,returnDate:l,travelFrom:t.travelFrom,travelTo:t.travelTo,purposeTravel:t.purposeTravel})})}convertDateFormat(t){if(!t)return"";const o=new Date(t);return`${o.getUTCFullYear()}-${this.formatNumber(o.getUTCMonth()+1)}-${this.formatNumber(o.getUTCDate())}`}formatNumber(t){return t<10?`0${t}`:`${t}`}ngOnInit(){this.getTravelDetail()}submit(){this.ngxLoader.start(),this.leaveservice.editTravelList(this.selectForm.value,this.id).subscribe(t=>{this.exitlist=t,t&&(this.ngxLoader.start(),console.log("100"+this.exitlist),this.toastr.showSuccess("Travel expense edit successfully","Expense Edited")),this.route.navigate(["/travelexpense/travel-list"])})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.LA),e.Y36(i.qu),e.Y36(f.$),e.Y36(h.e),e.Y36(c.gz),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-travel"]],decls:75,vars:15,consts:[[1,"button-heading-container"],[1,"mb-2","back-button",3,"routerLink"],[1,"material-icons"],[1,"card","pl-4","pr-4","pb-3","pt-4"],[3,"formGroup"],[1,"row","mb-4"],[1,"col-6"],[1,"row"],[1,"col-4"],[1,"starlabel"],[1,"col-8"],["formControlName","employeeId","placeholder","Enter employee name","type","text",1,"form-control","custom-placeholder","input-padding"],[4,"ngIf"],["formControlName","employeeName","placeholder","Enter employee name","type","text",1,"form-control","custom-placeholder","input-padding"],["formControlName","journeyDate","placeholder","Enter employee type","type","date",1,"form-control","custom-placeholder","input-padding",3,"min"],["formControlName","returnDate","placeholder","Enter Reason","type","date",1,"form-control","custom-placeholder","input-padding",3,"min"],[1,"row","mb-4","mt-2"],["formControlName","travelFrom","placeholder","Enter travel from","type","text",1,"form-control","custom-placeholder","input-padding"],["formControlName","travelTo","placeholder","Enter travel to","type","text",1,"form-control","custom-placeholder","input-padding"],[1,"col-12"],[1,"col-2"],[1,"col-10"],["formControlName","purposeTravel","type","text","placeholder","Enter travel purpose ",1,"form-control","custom-placeholder","input-padding",2,"height","100px"],[1,"row","mb-5","mt-4"],[1,"d-flex","justify-content-end","col-11","mt-4"],["type","submit",1,"btn","btn-info","mr-3",2,"background","rgb(228, 28, 28)","border","none",3,"disabled","click"],[1,"btn","btn-info",2,"background","#637381","border","none",3,"routerLink"],[2,"color","rgb(253, 122, 122)","font-size","small","font-style","italic",3,"hidden"],["style","color: rgb(253, 122, 122); font-size: small; font-style: italic;",4,"ngIf"],[2,"color","rgb(253, 122, 122)","font-size","small","font-style","italic"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e.TgZ(2,"i",2),e._uU(3,"arrow_back"),e.qZA(),e.qZA(),e.TgZ(4,"h5"),e._uU(5,"\xa0Edit Reimbursement"),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"form",4),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e.TgZ(12,"label",9),e._uU(13,"Employee ID"),e.qZA(),e.qZA(),e.TgZ(14,"div",10),e._UZ(15,"input",11),e.YNc(16,S,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",6),e.TgZ(18,"div",7),e.TgZ(19,"div",8),e.TgZ(20,"label",9),e._uU(21,"Employee Name"),e.qZA(),e.qZA(),e.TgZ(22,"div",10),e._UZ(23,"input",13),e.YNc(24,j,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",5),e.TgZ(26,"div",6),e.TgZ(27,"div",7),e.TgZ(28,"div",8),e.TgZ(29,"label",9),e._uU(30,"Journey date"),e.qZA(),e.qZA(),e.TgZ(31,"div",10),e._UZ(32,"input",14),e.YNc(33,Y,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",6),e.TgZ(35,"div",7),e.TgZ(36,"div",8),e.TgZ(37,"label",9),e._uU(38,"Return Date"),e.qZA(),e.qZA(),e.TgZ(39,"div",10),e._UZ(40,"input",15),e.YNc(41,B,4,2,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",16),e.TgZ(43,"div",6),e.TgZ(44,"div",7),e.TgZ(45,"div",8),e.TgZ(46,"label",9),e._uU(47,"Travel From"),e.qZA(),e.qZA(),e.TgZ(48,"div",10),e._UZ(49,"input",17),e.YNc(50,z,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",6),e.TgZ(52,"div",7),e.TgZ(53,"div",8),e.TgZ(54,"label",9),e._uU(55,"Travel To"),e.qZA(),e.qZA(),e.TgZ(56,"div",10),e._UZ(57,"input",18),e.YNc(58,$,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",16),e.TgZ(60,"div",19),e.TgZ(61,"div",7),e.TgZ(62,"div",20),e.TgZ(63,"label",9),e._uU(64,"Purpose of Travel"),e.qZA(),e.qZA(),e.TgZ(65,"div",21),e._UZ(66,"textarea",22),e.YNc(67,H,3,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e._UZ(68,"div",6),e.qZA(),e.TgZ(69,"div",23),e.TgZ(70,"div",24),e.TgZ(71,"button",25),e.NdJ("click",function(){return o.submit()}),e._uU(72," Submit "),e.qZA(),e.TgZ(73,"button",26),e._uU(74," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(13,C)),e.xp6(6),e.Q6J("formGroup",o.selectForm),e.xp6(9),e.Q6J("ngIf",!o.selectForm.controls.employeeId.valid&&(o.selectForm.controls.employeeId.touched||o.selectForm.controls.employeeId.dirty)),e.xp6(8),e.Q6J("ngIf",!o.selectForm.controls.employeeName.valid&&(o.selectForm.controls.employeeName.touched||o.selectForm.controls.employeeName.dirty)),e.xp6(8),e.Q6J("min",o.getMinimumDate()),e.xp6(1),e.Q6J("ngIf",!o.selectForm.controls.journeyDate.valid&&(o.selectForm.controls.journeyDate.touched||o.selectForm.controls.journeyDate.dirty)),e.xp6(7),e.Q6J("min",o.getMinimumDate()),e.xp6(1),e.Q6J("ngIf",!o.selectForm.controls.returnDate.valid&&(o.selectForm.controls.returnDate.touched||o.selectForm.controls.returnDate.dirty)),e.xp6(9),e.Q6J("ngIf",!o.selectForm.controls.travelFrom.valid&&(o.selectForm.controls.travelFrom.touched||o.selectForm.controls.travelFrom.dirty)),e.xp6(8),e.Q6J("ngIf",!o.selectForm.controls.travelTo.valid&&(o.selectForm.controls.travelTo.touched||o.selectForm.controls.travelTo.dirty)),e.xp6(9),e.Q6J("ngIf",!o.selectForm.controls.purposeTravel.valid&&(o.selectForm.controls.purposeTravel.touched||o.selectForm.controls.purposeTravel.dirty)),e.xp6(4),e.Q6J("disabled",!o.selectForm.valid),e.xp6(2),e.Q6J("routerLink",e.DdM(14,C)))},directives:[c.rH,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,p.O5],styles:['.back-button[_ngcontent-%COMP%]{background:#e41c1c;color:#fff;border:none;padding:5px;border-radius:5px;width:40px}  .back-button:hover{background-color:#f08080!important}.button-heading-container[_ngcontent-%COMP%]{display:flex;align-items:center}.card-title[_ngcontent-%COMP%]{background-color:#5f9ea0;color:#f5f5f5;line-height:30px;padding-left:10px}label.starlabel[_ngcontent-%COMP%]:after{content:"*";color:#e41c1c}.custom-placeholder[_ngcontent-%COMP%]::placeholder{color:#495057}']}),r})();var K=d(3583),Z=d(574),X=d(2983),W=d.n(X),V=d(845),b=d(4851),ee=d(9783),te=d(1424),oe=d(4119);const re=["dt"],ne=function(){return["/travelexpense/add-travel"]};function le(r,n){1&r&&e._UZ(0,"button",13),2&r&&e.Q6J("routerLink",e.DdM(1,ne))}function ie(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e._UZ(3,"img",17),e.TgZ(4,"input",18,19),e.NdJ("input",function(l){return e.CHM(t),e.oxw().applyFilterGlobal(l,"contains")}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div"),e.TgZ(7,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().exportPdf()}),e._UZ(8,"img",21),e.qZA(),e.TgZ(9,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().exportExcel()}),e._UZ(10,"img",23),e.qZA(),e.qZA(),e.qZA()}}function ae(r,n){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th"),e.TgZ(2,"div",24),e._uU(3," S.No. "),e.qZA(),e.qZA(),e.TgZ(4,"th",25),e.TgZ(5,"div",24),e._uU(6," Employee ID "),e._UZ(7,"p-sortIcon",26),e.qZA(),e.qZA(),e.TgZ(8,"th",27),e.TgZ(9,"div",24),e._uU(10," Travel From "),e._UZ(11,"p-sortIcon",28),e.qZA(),e.qZA(),e.TgZ(12,"th",29),e.TgZ(13,"div",24),e._uU(14," Travel To "),e._UZ(15,"p-sortIcon",30),e.qZA(),e.qZA(),e.TgZ(16,"th",31),e.TgZ(17,"div",24),e._uU(18," Start Date "),e._UZ(19,"p-sortIcon",32),e.qZA(),e.qZA(),e.TgZ(20,"th",33),e.TgZ(21,"div",24),e._uU(22," Return Date "),e._UZ(23,"p-sortIcon",34),e.qZA(),e.qZA(),e.TgZ(24,"th",35),e.TgZ(25,"div",24),e._uU(26," Added By "),e._UZ(27,"p-sortIcon",36),e.qZA(),e.qZA(),e.TgZ(28,"th",37),e.TgZ(29,"div",24),e._uU(30," Added Time "),e._UZ(31,"p-sortIcon",38),e.qZA(),e.qZA(),e.TgZ(32,"th",39),e.TgZ(33,"div",24),e._uU(34," Modified By "),e._UZ(35,"p-sortIcon",40),e.qZA(),e.qZA(),e.TgZ(36,"th",41),e.TgZ(37,"div",24),e._uU(38," Modified Time "),e._UZ(39,"p-sortIcon",42),e.qZA(),e.qZA(),e.TgZ(40,"th",43),e._uU(41,"Action"),e.qZA(),e.qZA())}function de(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"span",44),e._uU(3,"Sr.no"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.ALo(26,"date"),e.qZA(),e.TgZ(27,"td"),e.TgZ(28,"div",45),e.TgZ(29,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().approve(a._id)}),e._uU(30," Done "),e.qZA(),e.TgZ(31,"button",47),e._uU(32," Pending "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=n.$implicit,o=n.rowIndex;e.xp6(4),e.hij(" ",o+1," "),e.xp6(2),e.Oqu(t.employeeId),e.xp6(2),e.Oqu(t.travelFrom),e.xp6(2),e.Oqu(t.travelTo),e.xp6(2),e.Oqu(e.xi3(13,15,t.journeyDate,"MM/dd/yyyy")),e.xp6(3),e.Oqu(e.xi3(16,18,t.returnDate,"MM/dd/yyyy")),e.xp6(3),e.Oqu(t.addedBy),e.xp6(2),e.Oqu(e.xi3(21,21,t.createdAt,"MM/dd/yyyy")),e.xp6(3),e.Oqu(t.addedBy),e.xp6(2),e.Oqu(e.xi3(26,24,t.updatedAt,"MM/dd/yyyy")),e.xp6(4),e.ekj("btn-primary",!t.isClicked)("btn-accent",t.isClicked),e.Q6J("disabled",t.isClicked)}}function se(r,n){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",48),e._uU(2,"No records to show"),e.qZA(),e.qZA())}const ce=function(){return["employeeId","travelFrom","travelTo","journeyDate","returnDate","anythingShare","createdAt","updatedAt","allAssets","noticePeriod"]},ue=[{path:"travel-list",component:(()=>{class r{constructor(t,o,l,a,s){this.leaveService=t,this.toastr=o,this.ngxLoader=l,this.dialog=a,this.route=s,this.travelData=[],this.isClicked=!1,this.sidebarSpacing="contracted",this.statusList=["Active","Inactive"],this.fgsType=m.aS.squareLoader}ngOnInit(){this.fgsType=m.aS.squareLoader,this.ngxLoader.start(),this.getTravelData()}isHidden(t){return"superAdmin"===t}getTravelData(){this.leaveService.getTravelList().subscribe(t=>{this.travelData=t,console.log("travel list 100=>"+JSON.stringify(this.travelData)),this.ngxLoader.stop()})}approve(t){const o=this.travelData.find(l=>l._id===t);o&&(o.isClicked=!0),this.payload={_id:t,username:localStorage.getItem("email"),employeeName:this.travelData[0].employeeName,employeeId:this.travelData[0].employeeId,journeyDate:this.travelData[0].journeyDate,returnDate:this.travelData[0].returnDate,travelFrom:this.travelData[0].travelFrom,travelTo:this.travelData[0].travelTo,purposeTravel:this.travelData[0].purposeTravel},console.log(this.payload),this.leaveService.approveReimbursement(this.payload,t).subscribe(l=>{const a=this.travelData.find(s=>s._id===t);a&&(a.isClicked=!0,this.toastr.showSuccess("Reimbursement Approved successfully","Reimbursement Approved"))})}openDialog(t){this.dialog.open(x).afterClosed().subscribe(l=>{1==l&&this.deleteTravelDetails(t)})}deleteTravelDetails(t){this.leaveService.deleteTravel(t._id).subscribe(o=>{o&&(this.toastr.showSuccess("Travel Expense deleted successfully","Travel Expense deleted"),this.getTravelData())})}exportExcel(){const t=new p.uU("en-US"),o=this.travelData.map((u,Te)=>({"S.No.":Te+1,"Employee Id":u.employeeId,"Travel From":u.travelFrom,"Travel To":u.travelTo,JourneyDate:u.journeyDate,ReturnDate:u.returnDate,"Added By":u.addedBy,AddedTime:t.transform(u.createdAt,"MM/dd/yyyy"),"Modified By":u.addedBy,ModifiedTime:t.transform(u.updatedAt,"MM/dd/yyyy")})),l=Z.utils.book_new(),a=Z.utils.json_to_sheet(o);Z.utils.book_append_sheet(l,a,"Sheet1");const s=this.workbookToBlob(l),T=URL.createObjectURL(s),v=document.createElement("a");v.href=T,v.download="table_data.xlsx",v.click(),URL.revokeObjectURL(T)}workbookToBlob(t){const o=Z.write(t,{bookType:"xlsx",type:"array"});return new Blob([o],{type:"application/octet-stream"})}exportPdf(){this.exitDetails=this.travelData.map((a,s)=>Object.assign({sno:s+1},a));const t=new K.jsPDF("l","pt"),o=this.exitDetails.map(a=>Object.assign(Object.assign({},a),{createdAt:this.formatDate(a.createdAt),updatedAt:this.formatDate(a.updatedAt)}));W()(t,{columns:[{title:"S No.",dataKey:"sno"},{title:"Employee Id",dataKey:"employeeId"},{title:"Travel From",dataKey:"travelFrom"},{title:"Travel To",dataKey:"travelTo"},{title:"JourneyDate",dataKey:"journeyDate"},{title:"ReturnDate",dataKey:"returnDate"},{title:"Added By",dataKey:"addedBy"},{title:"AddedTime",dataKey:"createdAt"},{title:"Modified By",dataKey:"addedBy"},{title:"ModifiedTime",dataKey:"updatedAt"}],body:o}),t.save("Travel Expense List.pdf")}formatDate(t){const o=new Date(t);return`${String(o.getDate()).padStart(2,"0")}/${String(o.getMonth()+1).padStart(2,"0")}/${o.getFullYear()}`}onToggleSidebar(t){this.sidebarSpacing="open"===t?"contracted":"expanded"}applyFilterGlobal(t,o){const l=t.target.value;!l||/^\s*$/.test(l)?this.dt.filterGlobal("",o):this.dt.filterGlobal(l.trim(),o)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.e),e.Y36(f.$),e.Y36(m.LA),e.Y36(g.uw),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-travel-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(re,5),2&t){let l;e.iGM(l=e.CRH())&&(o.dt=l.first)}},decls:15,vars:11,consts:[[1,"page-heading"],[1,"row","mb-2","mt-2"],[1,"col-6"],[1,"col-6","text-right"],[1,"p-input-icon-right","ml-5"],["pButton","","type","button","label"," + Add Reimbursement","class","add-button-rating",3,"routerLink",4,"ngIf"],["id","customerTable","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","paginator","rows","showCurrentPageReport","value","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],["pButton","","type","button","label"," + Add Reimbursement",1,"add-button-rating",3,"routerLink"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","p-0"],[1,"input-container"],["src","../../../assets/images/search-white.svg",1,"input-container-img"],["pInputText","","type","text","placeholder","Search...",3,"input"],["search",""],["pButton","","type","button","pTooltip","Pdf","tooltipPosition","bottom",1,"custom-image",3,"click"],["src","../../../../assets/images/pdf.svg","alt","Button Image"],["pButton","","type","button","pTooltip","Excel","tooltipPosition","bottom",1,"custom-image",3,"click"],["src","../../../../assets/images/excel.svg","alt","Button Image"],[1,"flex","justify-content-between","align-items-center","head1"],["pSortableColumn","employeeId"],["field","employeeId"],["pSortableColumn","travelFrom"],["field","travelFrom"],["pSortableColumn","travelTo"],["field","travelTo"],["pSortableColumn","journeyDate"],["field","journeyDate"],["pSortableColumn","returnDate"],["field","returnDate"],["pSortableColumn","addedBy"],["field","addedBy"],["pSortableColumn","createdAt"],["field","createdAt"],["pSortableColumn","modifiedBy"],["field","modifiedBy"],["pSortableColumn","updatedAt"],["field","updatedAt"],[1,"text-center"],[1,"p-column-title"],[2,"display","flex","align-items","center"],["mat-raised-button","","tooltipPosition","bottom",1,"btn",2,"margin-right","15px","cursor","pointer",3,"disabled","click"],["mat-raised-button","","tooltipPosition","bottom",1,"btn","btn-danger",2,"margin-right","15px","cursor","pointer"],["colspan","12",1,"text-danger"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h4"),e._uU(4,"Reimbursement List"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"span",4),e.YNc(7,le,1,2,"button",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"p-table",6,7),e.YNc(10,ie,11,0,"ng-template",8),e.YNc(11,ae,42,0,"ng-template",9),e.YNc(12,de,33,27,"ng-template",10),e.YNc(13,se,3,0,"ng-template",11),e.qZA(),e._UZ(14,"ngx-ui-loader",12)),2&t&&(e.xp6(7),e.Q6J("ngIf",!o.isHidden("superAdmin")),e.xp6(1),e.Q6J("columns",o.cols)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("value",o.travelData)("responsive",!0)("globalFilterFields",e.DdM(10,ce)),e.xp6(6),e.Q6J("fgsColor","#000000")("fgsType",o.fgsType))},directives:[p.O5,V.Hq,c.rH,b.iA,ee.jx,te.o,oe.u,b.lQ,b.fz,A.lW,m.Eo],pipes:[p.uU],styles:['[_nghost-%COMP%]  .captionFilter p-columnFilter .p-column-filter>button:before{content:"Filter";margin-right:10px}[_nghost-%COMP%]  .captionFilter p-columnFilter .p-column-filter>button{width:100px;height:40px;border-radius:3px;font-size:large;margin:1px 5px 1px 1px;padding:15px 20px;border:1px solid #ced4da}.page-heading[_ngcontent-%COMP%]{padding:0}.page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;letter-spacing:1.2px;word-spacing:.1rem}.add-button-rating[_ngcontent-%COMP%]{background-color:#f52e2e;color:#fff;border:none}.add-button-rating[_ngcontent-%COMP%]:hover{background-color:#f08080;color:#fff;border:none}.custom-image[_ngcontent-%COMP%], .custom-image[_ngcontent-%COMP%]:hover{background:none;border:none}.input-container[_ngcontent-%COMP%]{position:relative;border:.5px solid rgba(145,158,171,.32)!important}.input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:30px;font-size:.875rem}.custom-image[_ngcontent-%COMP%]{background:none;border:none}[_nghost-%COMP%]  .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background-color:#e41c1c;margin-bottom:10px;margin-top:10px;border-radius:5px}  .p-paginator{background:white!important;border:none!important}.head1[_ngcontent-%COMP%]{color:#000;text-align:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none!important;border-bottom:1px solid #d7c6c6!important;background-color:#fff!important;color:#000!important;justify-content:center}  .edit-delete-button{background-color:#fff!important;border:none!important}  .p-datatable .p-datatable-header{background:white;border:none}[_nghost-%COMP%]  .p-datatable .p-sortable-column .p-sortable-column-icon{color:#848484}[_nghost-%COMP%]  .p-datatable .p-sortable-column.p-highlight:hover .p-sortable-column-icon{color:#848484}.input-container-img[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:20px;height:20px;cursor:pointer}.input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:30px;font-size:.875rem;height:37px}']}),r})()},{path:"travel-delete",component:x},{path:"add-travel",component:Q},{path:"edit-travel",component:G}];let pe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[c.Bz.forChild(ue)],c.Bz]}),r})();var me=d(529),ge=d(4834),ve=d(7322);let Ze=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,pe,m.Js,g.Is,A.ot,me.m,i.u5,ge.t,q.LD,ve.lN]]}),r})()}}]);