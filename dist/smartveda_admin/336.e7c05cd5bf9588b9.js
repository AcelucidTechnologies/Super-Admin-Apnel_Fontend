"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[336],{6336:(at,v,i)=>{i.r(v),i.d(v,{SettingUsertypeModule:()=>rt});var d=i(9808),u=i(1083),y=i(574),C=i(4327),q=i(3583),R=i(2983),w=i.n(R),t=i(5e3),c=i(8966),T=i(7423);let P=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-lead-view"]],decls:10,vars:1,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","",1,"dialog1","mr-2",3,"mat-dialog-close"],["mat-button","","mat-dialog-close","",1,"dialog2"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Delete UserType Detail"),t.qZA(),t.TgZ(2,"mat-dialog-content",1),t.TgZ(3,"h3"),t._uU(4,"Do you want to delete this Record?"),t.qZA(),t.qZA(),t.TgZ(5,"mat-dialog-actions",2),t.TgZ(6,"button",3),t._uU(7,"Yes"),t.qZA(),t.TgZ(8,"button",4),t._uU(9,"Cancel"),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Q6J("mat-dialog-close",!0))},directives:[c.uh,c.xY,c.H8,T.lW,c.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:600px}[_nghost-%COMP%]  .dialog1{background:#e41c1c;color:#fff;border-radius:5px;outline:none}.dialog2[_ngcontent-%COMP%]{color:#fff;background:#637381;border-radius:5px;outline:none}.mat-dialog-title[_ngcontent-%COMP%], .mat-dialog-content[_ngcontent-%COMP%]{text-align:center}.mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),o})();var b=i(1752),x=i(7650),M=i(2888),S=i(845),h=i(4851),O=i(9783),D=i(1424),F=i(4119);const E=["dt"];function J(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",12),t.TgZ(1,"div",13),t.TgZ(2,"div",14),t._UZ(3,"img",15),t.TgZ(4,"input",16,17),t.NdJ("input",function(r){return t.CHM(e),t.oxw().applyFilterGlobal(r,"contains")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().exportPdf()}),t._UZ(8,"img",19),t.qZA(),t.TgZ(9,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().exportExcel()}),t._UZ(10,"img",21),t.qZA(),t.qZA(),t.qZA()}}function L(o,a){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t.TgZ(2,"div",22),t._uU(3," S.No. "),t.qZA(),t.qZA(),t.TgZ(4,"th",23),t.TgZ(5,"div",22),t._uU(6," UserType "),t._UZ(7,"p-sortIcon",24),t.qZA(),t.qZA(),t.TgZ(8,"th",25),t.TgZ(9,"div",22),t._uU(10," Status "),t._UZ(11,"p-sortIcon",26),t.qZA(),t.qZA(),t.TgZ(12,"th"),t.TgZ(13,"div",22),t._uU(14," Action "),t.qZA(),t.qZA(),t.qZA())}const A=function(){return["/usertypesettings/usertypeform"]},N=function(o){return{id:o}};function k(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr",27),t.TgZ(1,"td"),t.TgZ(2,"span",28),t._uU(3,"Sr.no"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"span",28),t._uU(7,"UserType"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"span",28),t._uU(11,"Status"),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.TgZ(14,"div"),t.TgZ(15,"a",29),t._UZ(16,"img",30),t.qZA(),t.TgZ(17,"a",31),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().openDialog(s)}),t._UZ(18,"img",32),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=a.$implicit,n=a.rowIndex;t.xp6(4),t.hij(" ",n+1," "),t.xp6(4),t.hij(" ",e.userType," "),t.xp6(4),t.hij(" ",e.status," "),t.xp6(4),t.Q6J("routerLink",t.DdM(5,A))("queryParams",t.VKq(6,N,null==e?null:e._id))}}function j(o,a){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",33),t._uU(2,"No Records to Show"),t.qZA(),t.qZA())}const I=function(){return["userType","status"]};let Q=(()=>{class o{constructor(e,n,r,s){this.usertypeService=e,this.dialog=n,this.toastr=r,this.permissionService=s,this.sidebarSpacing="contracted",this.statusList=["Active","Inactive"],this.permissionService.getModulePermission().subscribe(g=>{this.accessPermission=g[0].RatingSetting,console.log(this.accessPermission),this.getUsertypeList()})}ngOnInit(){}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}getUsertypeList(){this.usertypeService.getUsertypeList().subscribe(e=>{this.usertypeSettingData=e})}openDialog(e){this.dialog.open(P).afterClosed().subscribe(r=>{1==r&&this.deleteUsertypeDetails(e)})}deleteUsertypeDetails(e){this.usertypeService.deleteUsertypeDetails(e._id).subscribe(n=>{n&&(this.toastr.showSuccess("UserType deleted successfully","UserType deleted"),this.getUsertypeList())})}exportExcel(){const n={Sheets:{data:y.utils.json_to_sheet(this.usertypeSettingData)},SheetNames:["data"]},r=y.write(n,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(r,"usertype")}saveAsExcelFile(e,n){const g=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});C.saveAs(g,n+"_export_"+(new Date).getTime()+".xlsx")}applyFilterGlobal(e,n){this.dt.filterGlobal(e.target.value,n)}exportPdf(){this.usertypeData=this.usertypeSettingData.map((s,g)=>Object.assign({sno:g+1},s));const e=new q.jsPDF("l","pt"),n=this.usertypeData;w()(e,{columns:[{title:"S No.",dataKey:"sno"},{title:"User Type",dataKey:"userType"},{title:"Status",dataKey:"status"}],body:n}),e.save("User Type List.pdf")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.A),t.Y36(c.uw),t.Y36(x.$),t.Y36(M.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-usertype"]],viewQuery:function(e,n){if(1&e&&t.Gf(E,5),2&e){let r;t.iGM(r=t.CRH())&&(n.dt=r.first)}},decls:14,vars:11,consts:[[1,"container","page-heading"],[1,"row","mb-2","mt-2"],[1,"col-6"],[1,"col-6","text-right"],[1,"p-input-icon-right","ml-5"],["pButton","","type","button","label"," + Add UserType",1,"add-button-rating",3,"routerLink","disabled"],["id","customerTable","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","paginator","rows","showCurrentPageReport","value","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","p-0"],[1,"input-container"],["src","../../../assets/images/search-white.svg",1,"input-container-img"],["pInputText","","type","text","placeholder","Search...",3,"input"],["search",""],["pButton","","type","button","pTooltip","Pdf","tooltipPosition","bottom",1,"custom-image",3,"click"],["src","../../../../assets/images/pdf.svg","alt","Button Image"],["pButton","","type","button","pTooltip","Excel","tooltipPosition","bottom",1,"custom-image",3,"click"],["src","../../../../assets/images/excel.svg","alt","Button Image"],[1,"flex","justify-content-between","align-items-center","head1"],["pSortableColumn","userType"],["field","userType"],["pSortableColumn","status"],["field","status"],[1,"p-selectable-row"],[1,"p-column-title"],["pTooltip","Edit Usertype","tooltipPosition","bottom",2,"margin-right","15px","cursor","pointer"],["src","../../../../assets/images/edit.svg","alt","img",3,"routerLink","queryParams"],["pTooltip","Delete Usertype","tooltipPosition","bottom","href","javascript:void(0);",1,"me-3","confirm-text",3,"click"],["src","../../../../assets/images/delete.svg","alt","img"],["colspan","12",1,"text-danger"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h4"),t._uU(4,"User Type List"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"span",4),t._UZ(7,"button",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"p-table",6,7),t.YNc(10,J,11,0,"ng-template",8),t.YNc(11,L,15,0,"ng-template",9),t.YNc(12,k,19,8,"ng-template",10),t.YNc(13,j,3,0,"ng-template",11),t.qZA()),2&e&&(t.xp6(7),t.Q6J("routerLink",t.DdM(9,A))("disabled",!(null!=n.accessPermission&&n.accessPermission.add)),t.xp6(1),t.Q6J("columns",n.cols)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("value",n.usertypeSettingData)("responsive",!0)("globalFilterFields",t.DdM(10,I)))},directives:[S.Hq,u.rH,h.iA,O.jx,D.o,F.u,h.lQ,h.fz],styles:['[_nghost-%COMP%]  .captionFilter p-columnFilter .p-column-filter>button:before{content:"Filter";margin-right:10px}[_nghost-%COMP%]  .captionFilter p-columnFilter .p-column-filter>button{width:100px;height:40.5px;border-radius:3px;font-size:large;margin:1px 5px 1px 1px;padding:15px 20px;border:1px solid #ced4da}.page-heading[_ngcontent-%COMP%]{padding:0}.page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;letter-spacing:1.2px;word-spacing:.1rem}.add-button-rating[_ngcontent-%COMP%]{background-color:#f52e2e;color:#fff;border:none}.add-button-rating[_ngcontent-%COMP%]:hover{background-color:#f08080;color:#fff;border:none}.custom-image[_ngcontent-%COMP%], .custom-image[_ngcontent-%COMP%]:hover{background:none;border:none}.input-container[_ngcontent-%COMP%]{position:relative;border:.5px solid rgba(145,158,171,.32)!important}.input-container-img[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:20px;height:20px;cursor:pointer}.input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:30px;font-size:.875rem}.custom-image[_ngcontent-%COMP%]{background:none;border:none}[_nghost-%COMP%]  .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background-color:#e41c1c;margin-bottom:10px;margin-top:10px;border-radius:5px}  .p-paginator{background:white!important;border:none!important}.head1[_ngcontent-%COMP%]{color:#000;text-align:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none!important;border-bottom:1px solid #d7c6c6!important;background-color:#fff!important;color:#000!important;justify-content:center}  .edit-delete-button{background-color:#fff!important;border:none!important}  .p-datatable .p-datatable-header{background:white;border:none}[_nghost-%COMP%]  .p-datatable .p-sortable-column .p-sortable-column-icon{color:#848484}[_nghost-%COMP%]  .p-datatable .p-sortable-column.p-highlight:hover .p-sortable-column-icon{color:#848484}']}),o})();var l=i(3075),Z=i(8441),U=i(4036);function Y(o,a){1&o&&(t.TgZ(0,"div",26),t._uU(1," User Type should be Alphabet only "),t.qZA())}function z(o,a){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",24),t._uU(2," User Type is required "),t.qZA(),t.YNc(3,Y,2,0,"div",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("hidden",!e.usertypeForm.controls.userType.errors.required),t.xp6(2),t.Q6J("ngIf",e.usertypeForm.controls.userType.errors.pattern)}}function V(o,a){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",27),t._uU(2,"Status is required"),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("hidden",!e.usertypeForm.controls.status.errors.required)}}const _=function(){return["/usertypesettings/usertypelist"]};let B=(()=>{class o{constructor(e,n,r,s,g,f){this.usertypeService=e,this.fb=n,this.ngxLoader=r,this.route=s,this.toastr=g,this.activatedRoute=f,this.sidebarSpacing="contracted",this.editMode=!1,this.statusList=["Active","InActive"],this.usertypeForm=n.group({userType:["",[l.kI.required,l.kI.pattern(/^[a-zA-Z\s]+$/)]],status:["",[l.kI.required]]}),this.activatedRoute.queryParamMap.subscribe(m=>{this.id=parseInt(m.get("serialno")),this.id=m.get("id"),this.id&&null!=this.id?(this.editMode=!0,this.title="Edit",this.getUserTypeById()):(this.editMode=!1,this.title="Add")})}ngOnInit(){this.fgsType=Z.aS.squareLoader}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}submit(){this.ngxLoader.start(),this.payload={username:localStorage.getItem("email"),userType:this.usertypeForm.controls.userType.value,status:this.usertypeForm.controls.status.value},this.editMode?this.editUserType():this.addUserType()}editUserType(){this.usertypeService.editUserType(this.payload,this.id).subscribe(e=>{e&&(console.log(e,"edit"),this.toastr.showSuccess("UserType edit successfully","UserType edit"),this.ngxLoader.stop(),this.route.navigate(["/usertypesettings/usertypelist"]))})}addUserType(){this.usertypeService.createUserTypeList(this.payload).subscribe(e=>{e&&(this.toastr.showSuccess("UserType added successfully","Coupan Added"),this.route.navigate(["/usertypesettings/usertypelist"]))})}getUserTypeById(){this.usertypeService.getUserTypeById(this.id).subscribe(e=>{console.log(e,"------\x3e"),this.usertypeForm.patchValue({_id:e._id,userType:e.userType,status:e.status})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.A),t.Y36(l.qu),t.Y36(Z.LA),t.Y36(u.F0),t.Y36(x.$),t.Y36(u.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-edit-usertype"]],decls:37,vars:12,consts:[[1,"page-heading"],[1,"button-heading-container"],[1,"mb-2","p-1","back-button",3,"routerLink"],[1,"material-icons"],[1,"d-flex","justify-content-center"],[1,"card",2,"width","1150px","height","600px"],[1,""],[1,"card-body"],[1,"mt-3","mb-3"],[1,"d-flex","justify-content-center",3,"formGroup"],[1,"w-100"],[1,"row","mt-3"],[1,"form-group","col-12","d-flex","justify-content-center"],["for","criteriaName",1,"col-2","col-form-label","px-1","starlabel"],[1,"col-8"],["type","text","id","criteriaName","formControlName","userType",1,"form-control"],[4,"ngIf"],[1,"row","mt-4"],["for","status",1,"col-2","col-form-label","starlabel"],["styleClass","statusDropdown","placeholder","Select status","formControlName","status",3,"options"],[1,"form-group","col-12","d-flex","justify-content-end",2,"padding-right","100px"],["type","submit",1,"btn","btn-info","mr-4",2,"background","rgb(228, 28, 28)","border","none",3,"disabled","click"],[1,"btn","btn-info",2,"background","#637381","border","none",3,"routerLink"],[3,"fgsColor","fgsType"],[2,"color","rgb(253, 122, 122)","font-size","small","font-style","italic",3,"hidden"],["style","\n                                          color: rgb(253, 122, 122);\n                                          font-size: small;\n                                          font-style: italic;\n                                        ",4,"ngIf"],[2,"color","rgb(253, 122, 122)","font-size","small","font-style","italic"],[2,"font-size","smaller","color","rgb(253, 122, 122)","font-style","italic",3,"hidden"]],template:function(e,n){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.TgZ(3,"i",3),t._uU(4,"arrow_back"),t.qZA(),t.qZA(),t.TgZ(5,"h5"),t._uU(6,"\xa0UserType Details"),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"h3"),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"form",9),t.TgZ(15,"div",10),t.TgZ(16,"div",11),t.TgZ(17,"div",12),t.TgZ(18,"label",13),t._uU(19,"Usertype"),t.qZA(),t.TgZ(20,"div",14),t._UZ(21,"input",15),t.YNc(22,z,4,2,"div",16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",17),t.TgZ(24,"div",12),t.TgZ(25,"label",18),t._uU(26,"Status"),t.qZA(),t.TgZ(27,"div",14),t._UZ(28,"p-dropdown",19),t.YNc(29,V,3,1,"div",16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",11),t.TgZ(31,"div",20),t.TgZ(32,"button",21),t.NdJ("click",function(){return n.submit()}),t._uU(33,"Submit"),t.qZA(),t.TgZ(34,"button",22),t._uU(35,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(36,"ngx-ui-loader",23)),2&e&&(t.xp6(2),t.Q6J("routerLink",t.DdM(10,_)),t.xp6(11),t.hij("",n.title," User Type"),t.xp6(1),t.Q6J("formGroup",n.usertypeForm),t.xp6(8),t.Q6J("ngIf",!n.usertypeForm.controls.userType.valid&&(n.usertypeForm.controls.userType.touched||n.usertypeForm.controls.userType.dirty)),t.xp6(6),t.Q6J("options",n.statusList),t.xp6(1),t.Q6J("ngIf",!n.usertypeForm.controls.status.valid&&n.usertypeForm.controls.status.touched),t.xp6(3),t.Q6J("disabled",!n.usertypeForm.valid),t.xp6(2),t.Q6J("routerLink",t.DdM(11,_)),t.xp6(2),t.Q6J("fgsColor","#000000")("fgsType",n.fgsType))},directives:[u.rH,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,d.O5,U.Lt,Z.Eo],styles:['[_nghost-%COMP%]  .statusDropdown{width:100%}[_nghost-%COMP%]  label.starlabel:after{content:"*";color:#e41c1c}  .p-dropdown{border:1px solid lightgray}.button-heading-container[_ngcontent-%COMP%]{display:flex;align-items:center}.back-button[_ngcontent-%COMP%]{background:#e41c1c;color:#fff;border:none;border-radius:5px;margin-left:10px;width:40px}  .back-button:hover{background-color:#f08080!important}']}),o})();var G=i(7824),H=i(4297);function X(o,a){if(1&o&&(t.TgZ(0,"div",21),t.TgZ(1,"p-card"),t.TgZ(2,"div",22),t.TgZ(3,"h5",23),t._uU(4),t.qZA(),t.TgZ(5,"p",24),t._uU(6),t.ALo(7,"lowercase"),t.ALo(8,"date"),t.qZA(),t.qZA(),t.TgZ(9,"div",22),t.TgZ(10,"p",25),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"p",26),t._uU(14),t.qZA(),t.TgZ(15,"p",27),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div",22),t.TgZ(18,"p",28),t._uU(19,"+"),t.qZA(),t.TgZ(20,"p",29),t._uU(21,"Pros:"),t.qZA(),t.TgZ(22,"p",30),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"div",22),t.TgZ(25,"p",28),t._uU(26,"-"),t.qZA(),t.TgZ(27,"p",29),t._uU(28,"Cons:"),t.qZA(),t.TgZ(29,"p",30),t._uU(30),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=a.$implicit;t.xp6(4),t.Oqu(e.reviewer),t.xp6(2),t.hij(" ",t.lcZ(7,7,t.xi3(8,9,e.createdAt,"short"))," "),t.xp6(5),t.hij(" ",t.xi3(12,12,e.AverageRating,"1.0-0")," "),t.xp6(3),t.hij('"',e.overall,'"'),t.xp6(2),t.Oqu(e.userType),t.xp6(7),t.Oqu(e.pros),t.xp6(7),t.Oqu(e.cons)}}const $=[{path:"usertypelist",component:Q},{path:"usertypeform",component:B},{path:"ratingReviewDetails",component:(()=>{class o{constructor(e,n){this.ratingService=e,this.datePipe=n,this.ratingValue=3,this.ratingName="",this.ratingandReview=[],this.selectedOverallRating="All Ratings"}ngOnInit(){this.getAllRatingDetails(),this.getRatingDetails(),this.getRatingandReviewData(),this.type=["All Ratings","Excellent","Good","Satisfying","Very Bad","Very Poor"]}getAllRatingDetails(){this.ratingService.getAllRatingDetails().subscribe(e=>{this.allRatingData=e,this.ratingLength=this.allRatingData.length,this.averageRating=this.allRatingData.map(r=>parseFloat(r.AverageRating)),this.sumofAverage=this.averageRating.reduce((r,s)=>r+s,0),console.log("Sum of all ratings:",this.sumofAverage);const n=this.allRatingData.filter(r=>"Good"==r.overall);console.log("64",n),console.log("21",this.averageRating),this.overallRating=this.sumofAverage/this.ratingLength})}getRatingDetails(){this.ratingService.getRatingList().subscribe(e=>{this.ratingData=e,console.log("length of an array in rating detail"+this.ratingData.length),console.log("rating details for user type"+JSON.stringify(this.ratingData[0].createdAt))})}getFilteredData(){return"All Ratings"!==this.selectedOverallRating?this.allRatingData.filter(e=>e.overall===this.selectedOverallRating):this.allRatingData}getRatingandReviewData(){this.ratingService.getRatingandReviewList().subscribe(e=>{this.ratingandReview=e;let n=0,r=0,s=0,g=0,f=0,m=0;this.ratingandReview.forEach(p=>{"Excellent"===p.overall?n+=p.ratings.length:"Good"===p.overall?r+=p.ratings.length:"Satisfying"===p.overall?g+=p.ratings.length:"Very bad"===p.overall?f+=p.ratings.length:"ver Poor"===p.overall&&(m+=p.ratings.length),s+=p.ratings.length}),this.totalNoRating=s,this.averageRatingExcellent=n/s,this.averageRatingGood=r/s,this.averageRatingSatisfying=g/s,this.averageRatingVeryBad=f/s,this.averageRatingVeryPoor=m/s,console.log("Average Rating (Excellent): ",this.averageRatingExcellent),console.log("Average Rating (Good): ",this.averageRatingGood),console.log("Average Rating (satisfying): ",this.averageRatingSatisfying),console.log("Average Rating (very bad): ",this.averageRatingVeryBad),console.log("Average Rating (very poor): ",this.averageRatingVeryPoor),console.log("Average Rating (Overall): ",this.overallRating)})}setRatingName(){this.ratingName=3===this.ratingValue?"Excellent":2===this.ratingValue?"Good":1===this.ratingValue?"Satisfying":"Unknown"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(G.V),t.Y36(d.uU))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-rating-review-details"]],decls:50,vars:13,consts:[[1,"container","page-heading"],[1,"row","mb-2","mt-2"],[1,"col-6","pt-3"],[1,"col-6","text-right"],[1,"p-input-icon-right","ml-5"],[1,"show-rating"],[2,"margin-right","10px","font-size","16px","font-weight","400","padding-top","7px","margin-top","0px"],["id","role","placeholder","All Ratings",3,"ngModel","options","ngModelChange"],[1,"row"],[1,"col-sm-4","col-md-4","rating-score-overall"],[1,"text-center"],[1,"card","mb-2","mt-2"],[1,"mt-3","rating-score"],[2,"display","flex","justify-content","center"],[1,"overall-rating"],[1,"card","mt-4",2,"padding","10px","margin-bottom","0px"],[1,"row-container"],["for","file",1,"label-width"],["id","file","max","5",1,"progress-bar-value",3,"value"],[1,"col-sm-8","col-md-8","show-rating-overall"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[2,"display","flex"],[2,"margin-right","auto"],[2,"font-size","15px","font-weight","600"],[1,"user-rating"],[1,"overall"],[1,"userType"],[1,"plus-sign"],[1,"pros-cons"],[2,"font-size","16px"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h4"),t._uU(4,"Rating and Reviews"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"span",4),t.TgZ(7,"div",5),t.TgZ(8,"p",6),t._uU(9," Show Ratings for "),t.qZA(),t.TgZ(10,"p-dropdown",7),t.NdJ("ngModelChange",function(s){return n.selectedOverallRating=s}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"p-card"),t.TgZ(12,"div",8),t.TgZ(13,"div",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t.TgZ(16,"div",12),t._uU(17),t.qZA(),t.TgZ(18,"div",13),t.TgZ(19,"p",14),t._uU(20),t.ALo(21,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",15),t.TgZ(23,"div",16),t.TgZ(24,"label",17),t._uU(25,"Excellent"),t.qZA(),t._UZ(26,"progress",18),t.qZA(),t._UZ(27,"br"),t.TgZ(28,"div",16),t.TgZ(29,"label",17),t._uU(30,"Good"),t.qZA(),t._UZ(31,"progress",18),t.qZA(),t._UZ(32,"br"),t.TgZ(33,"div",16),t.TgZ(34,"label",17),t._uU(35,"Satisfying"),t.qZA(),t._UZ(36,"progress",18),t.qZA(),t._UZ(37,"br"),t.TgZ(38,"div",16),t.TgZ(39,"label",17),t._uU(40,"Very Bad"),t.qZA(),t._UZ(41,"progress",18),t.qZA(),t._UZ(42,"br"),t.TgZ(43,"div",16),t.TgZ(44,"label",17),t._uU(45,"Very Poor"),t.qZA(),t._UZ(46,"progress",18),t.qZA(),t._UZ(47,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",19),t.YNc(49,X,31,15,"div",20),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngModel",n.selectedOverallRating)("options",n.type),t.xp6(7),t.hij(" Rating Score based on ",n.totalNoRating," ratings "),t.xp6(3),t.Oqu(t.xi3(21,10,n.overallRating,"1.0-0")),t.xp6(6),t.Q6J("value",n.averageRatingExcellent),t.xp6(5),t.Q6J("value",n.averageRatingGood),t.xp6(5),t.Q6J("value",n.averageRatingSatisfying),t.xp6(5),t.Q6J("value",n.averageRatingVeryBad),t.xp6(5),t.Q6J("value",n.averageRatingVeryPoor),t.xp6(3),t.Q6J("ngForOf",n.getFilteredData()))},directives:[U.Lt,l.JJ,l.On,H.Z,d.sg],pipes:[d.JJ,d.i8,d.uU],styles:[".page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;letter-spacing:1.2px;word-spacing:.1rem}.add-button-rating[_ngcontent-%COMP%]{background-color:#f52e2e;color:#fff;border:none}.add-button-rating[_ngcontent-%COMP%]:hover{background-color:#f08080;color:#fff;border:none}.row[_ngcontent-%COMP%]{justify-content:center}.rating-score[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.overall-rating[_ngcontent-%COMP%]{background-color:red;color:#fff;padding:20px 30px;margin-top:20px;margin-right:10px;font-size:24px;font-weight:600;border-radius:5px}.show-rating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end}.user-rating[_ngcontent-%COMP%]{padding:5px 10px;margin-right:10px;font-size:18px;font-weight:600;background-color:#f15b5b;color:#fff}.overall[_ngcontent-%COMP%]{margin-right:auto;text-align:center;font-size:18px;font-weight:600;padding-top:5px}.userType[_ngcontent-%COMP%]{padding-top:8px;padding-left:15px;padding-right:15px;border-radius:10px;font-size:14px;font-weight:600;color:#fff;background-color:#868e96;border-color:#868e96}.plus-sign[_ngcontent-%COMP%]{border:1px solid black;margin-right:10px;font-size:18px;font-weight:600;padding-left:5px;padding-right:5px}.pros-cons[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-right:10px}.show-rating-overall[_ngcontent-%COMP%]{height:900px;overflow-y:auto}  .p-card .p-card-content{margin-left:20px!important;margin-right:20px!important}  .p-card{margin-bottom:20px}.row-container[_ngcontent-%COMP%]{display:flex;align-items:center}.progress-bar-value[_ngcontent-%COMP%]{height:30px;flex:1;color:#ff0}.label-width[_ngcontent-%COMP%]{width:80px;margin-right:20px;margin-bottom:0}  .p-dropdown-panel .p-dropdown-items .p-dropdown-item.p-highlight{color:#fff;background:red}  .p-card .p-card-content{padding:0!important}"]}),o})()}];let K=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,u.Bz.forChild($)]]}),o})();var W=i(529),tt=i(6526),et=i(9224),nt=i(9114),ot=i(3407),it=i(8185);let rt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[d.uU],imports:[[d.ez,W.m,tt.q4,et.QW,h.U$,ot.A,nt.D,c.Is,T.ot,K,it.q]]}),o})()}}]);