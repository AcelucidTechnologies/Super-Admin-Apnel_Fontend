"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[434],{4434:(Ye,v,r)=>{r.r(v),r.d(v,{RolesModule:()=>Ze});var f=r(9808),A=r(529),k=r(6526),y=r(9224),u=r(4851),I=r(3407),S=r(9114),c=r(8966),w=r(7423),O=r(7010),p=r(1083),P=r(3583),U=r(2983),D=r.n(U),e=r(5e3);let q=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-lead-view"]],decls:10,vars:1,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","",1,"dialog1","button-color","mr-2",3,"mat-dialog-close"],["mat-button","","mat-dialog-close","",1,"dialog2"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Delete Permission Detail"),e.qZA(),e.TgZ(2,"mat-dialog-content",1),e.TgZ(3,"h3"),e._uU(4,"Do you want to delete this Record?"),e.qZA(),e.qZA(),e.TgZ(5,"mat-dialog-actions",2),e.TgZ(6,"button",3),e._uU(7,"Yes, delete it!"),e.qZA(),e.TgZ(8,"button",4),e._uU(9,"Cancel"),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("mat-dialog-close",!0))},directives:[c.uh,c.xY,c.H8,w.lW,c.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:600px}[_nghost-%COMP%]  .dialog1{color:#fff;background:#e41c1c;border-radius:5px;outline:none}.dialog2[_ngcontent-%COMP%]{color:#fff;background:#637381}.mat-dialog-title[_ngcontent-%COMP%], .mat-dialog-content[_ngcontent-%COMP%]{text-align:center}.mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}"]}),o})();var E=r(4327),T=r(574),g=r(520),h=r(2340);let C=(()=>{class o{constructor(t){this.http=t}getPermittedModuleList(){const t=localStorage.getItem("token")||"";let n=(new g.WM).set("x-access-token",t);return this.http.get(`${h.N.BASE_URL}/modulepermission`,{headers:n})}getPermissionDetails(t){const n=localStorage.getItem("token")||"";let a=(new g.WM).set("x-access-token",n);return this.http.get(`${h.N.BASE_URL}/modulepermission?user=${t}`,{headers:a})}submitPermissionDetail(t){const n=localStorage.getItem("token")||"";let a=(new g.WM).set("x-access-token",n);const s=`${h.N.BASE_URL}/modulepermission`;return console.log(),this.http.post(s,t,{headers:a})}submitEditedPermissionDetail(t,n){const a=localStorage.getItem("token")||"";let s=(new g.WM).set("x-access-token",a);return this.http.put(`${h.N.BASE_URL}/modulepermission?user=${n}`,t,{headers:s})}deletePermissionDetails(t){const n=localStorage.getItem("token")||"";let a=(new g.WM).set("x-access-token",n);return this.http.delete(`${h.N.BASE_URL}/modulepermission?user=${t}`,{headers:a})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(g.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var j=r(845),F=r(9783),G=r(1424),V=r(4119);const B=["dt"];function J(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",12),e.TgZ(2,"div",13),e._UZ(3,"img",14),e.TgZ(4,"input",15,16),e.NdJ("input",function(a){return e.CHM(t),e.oxw().applyFilterGlobal(a,"contains")}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div"),e.TgZ(7,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().exportPdf()}),e._UZ(8,"img",18),e.qZA(),e.TgZ(9,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().exportExcel()}),e._UZ(10,"img",20),e.qZA(),e.qZA(),e.qZA()}}function Y(o,l){1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"th",21),e.TgZ(2,"div",22),e._uU(3," Sno "),e.qZA(),e.qZA(),e.TgZ(4,"th",23),e.TgZ(5,"div",22),e._uU(6," User Name "),e._UZ(7,"p-sortIcon",24),e.qZA(),e.qZA(),e.TgZ(8,"th"),e.TgZ(9,"div",22),e._uU(10," Modules Permitted "),e.qZA(),e.qZA(),e.TgZ(11,"th"),e.TgZ(12,"div",22),e._uU(13," Actions "),e.qZA(),e.qZA(),e.qZA())}function Q(o,l){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Oqu(t)}}const $=function(o){return{user:o}},_=function(){return["/modulepermission/permissionform"]};function z(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr",25),e.TgZ(1,"td"),e._UZ(2,"span",26),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e.YNc(7,Q,2,1,"div",27),e.qZA(),e.TgZ(8,"td"),e.TgZ(9,"a",28),e._UZ(10,"img",29),e.qZA(),e.TgZ(11,"a",30),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().openDialog(s.username)}),e._UZ(12,"img",31),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=l.$implicit,n=l.rowIndex;e.xp6(3),e.hij(" ",n+1," "),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Q6J("ngForOf",t.moduleList),e.xp6(3),e.Q6J("queryParams",e.VKq(5,$,t.username))("routerLink",e.DdM(7,_))}}function H(o,l){1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td",32),e._uU(2,"No records to show"),e.qZA(),e.qZA())}const W=function(){return["username"]};let X=(()=>{class o{constructor(t,n){this.dialog=t,this.permissionService=n,this.adminValue=[],this.getPermittedModuleList()}ngOnInit(){this.cols=[{field:"username",show:!0,headers:"Username"},{field:"moduleList",show:!0,headers:"Module List"}],this.exportColumns=this.cols.map(t=>({title:t.headers,dataKey:t.field}))}openDialog(t){this.dialog.open(q).afterClosed().subscribe(a=>{1==a&&this.deleteAdminData(t)})}deleteAdminData(t){this.permissionService.deletePermissionDetails(t).subscribe(n=>{n&&this.getPermittedModuleList()})}getPermittedModuleList(){this.permissionService.getPermittedModuleList().subscribe(t=>{this.modulePermissionList=t})}globalSearch(t,n){this.dt.filterGlobal(t,n)}applyFilterGlobal(t,n){this.dt.filterGlobal(t.target.value,n)}exportExcel(){const n={Sheets:{data:T.utils.json_to_sheet(this.modulePermissionList)},SheetNames:["data"]},a=T.write(n,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"admin")}saveAsExcelFile(t,n){const d=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});E.saveAs(d,n+"_export_"+(new Date).getTime()+".xlsx")}exportPdf(){this.adminValue=this.modulePermissionList;const t=new P.default;D()(t,{columns:this.exportColumns,body:this.adminValue}),t.save("role.pdf")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.uw),e.Y36(C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-roles-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(B,5),2&t){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},decls:14,vars:9,consts:[[1,"container-fluid","page-heading"],[1,"row","mb-2","mt-2"],[1,"col-6"],[1,"col-6","text-right"],["pButton","",1,"add-button-admin",3,"routerLink"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable",3,"paginator","rows","showCurrentPageReport","value","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","p-0",2,"margin-left","20px"],[1,"input-container"],["src","../../../../assets/images/search-white.svg",1,"input-container-img"],["pInputText","","type","text","placeholder","Search...",3,"input"],["search",""],["pButton","","type","button","pTooltip","Pdf","tooltipPosition","bottom",1,"custom-image",3,"click"],["src","../../../../assets/images/pdf.svg","alt","Button Image"],["pButton","","type","button","pTooltip","Excel","tooltipPosition","bottom",1,"custom-image",3,"click"],["src","../../../../assets/images/excel.svg","alt","Button Image"],["pSortableColumn","Sno"],[1,"flex","justify-content-between","align-items-center","head1"],["pSortableColumn","username"],["field","username"],[1,"p-selectable-row"],[1,"p-column-title"],[4,"ngFor","ngForOf"],["pTooltip","Edit Role","tooltipPosition","bottom",2,"margin-right","15px","cursor","pointer"],["src","../../../../assets/images/edit.svg","alt","img",3,"queryParams","routerLink"],["pTooltip","Delete Role","tooltipPosition","bottom","href","javascript:void(0);",1,"me-4","confirm-text","mr-3",3,"click"],["src","../../../../assets/images/delete.svg","alt","img"],["colspan","12",1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h4"),e._uU(4,"Role List"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e._uU(7," + Add Permission "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"p-table",5,6),e.YNc(10,J,11,0,"ng-template",7),e.YNc(11,Y,14,0,"ng-template",8),e.YNc(12,z,13,8,"ng-template",9),e.YNc(13,H,3,0,"ng-template",10),e.qZA()),2&t&&(e.xp6(6),e.Q6J("routerLink",e.DdM(7,_)),e.xp6(2),e.Q6J("paginator",!0)("rows",10)("showCurrentPageReport",!0)("value",n.modulePermissionList)("responsive",!0)("globalFilterFields",e.DdM(8,W)))},directives:[j.Hq,p.rH,u.iA,F.jx,G.o,V.u,u.lQ,u.fz,f.sg],styles:[".add-button-admin[_ngcontent-%COMP%]{background-color:#f52e2e;color:#fff;border:none}[_nghost-%COMP%]  .add-button-admin:hover{background-color:#f08080;color:#fff;border:none}.custom-image[_ngcontent-%COMP%], .custom-image[_ngcontent-%COMP%]:hover{background:none;border:none}.input-container[_ngcontent-%COMP%]{position:relative;border:.5px solid rgba(145,158,171,.32)!important}.input-container-img[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:20px;height:20px;cursor:pointer}.input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:30px;font-size:.875rem}  .p-datatable .p-sortable-column .p-sortable-column-icon{color:#000;margin-left:.5rem}th[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;justify-content:center}td[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]  .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background-color:#e41c1c;background-color:#fff;border-radius:5px}  .p-paginator{background:white!important;border:none}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none!important;border-bottom:1px solid #d7c6c6!important;justify-content:start}  .p-datatable .p-datatable-header{background:white;color:#333;border:none;border-width:1px 1px 0 1px;padding:.857rem 1rem;font-weight:700}  .p-datatable .p-sortable-column.p-highlight .p-sortable-column-icon{color:#000!important}.head1[_ngcontent-%COMP%]{color:#000;text-align:center}.page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;letter-spacing:1.2px;word-spacing:.1rem}  .p-datatable .p-datatable-thead>tr>th{text-align:center;transition:background-color .2s,box-shadow .2s}"]}),o})();var i=r(3075),K=r(1370),ee=r(4036),M=r(7144),m=r(508),Z=r(3191),te=r(6360),ie=r(5664);const oe=["thumbContainer"],ne=["toggleBar"],ae=["input"],le=function(o){return{enterDuration:o}},se=["*"],re=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let de=0;const me={provide:i.JU,useExisting:(0,e.Gpc)(()=>x),multi:!0};class ue{constructor(l,t){this.source=l,this.checked=t}}const ce=(0,m.sb)((0,m.pj)((0,m.Kr)((0,m.Id)(class{constructor(o){this._elementRef=o}}))));let x=(()=>{class o extends ce{constructor(t,n,a,s,d,b){super(t),this._focusMonitor=n,this._changeDetectorRef=a,this.defaults=d,this._onChange=R=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++de,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=d.color||"accent",this._noopAnimations="NoopAnimations"===b}get required(){return this._required}set required(t){this._required=(0,Z.Ig)(t)}get checked(){return this._checked}set checked(t){this._checked=(0,Z.Ig)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new ue(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(ie.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(re),e.Y36(te.Qb,8))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-slide-toggle"]],viewQuery:function(t,n){if(1&t&&(e.Gf(oe,5),e.Gf(ne,5),e.Gf(ae,5)),2&t){let a;e.iGM(a=e.CRH())&&(n._thumbEl=a.first),e.iGM(a=e.CRH())&&(n._thumbBarEl=a.first),e.iGM(a=e.CRH())&&(n._inputElement=a.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(t,n){2&t&&(e.Ikx("id",n.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),e.ekj("mat-checked",n.checked)("mat-disabled",n.disabled)("mat-slide-toggle-label-before","before"==n.labelPosition)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[e._Bn([me]),e.qOj],ngContentSelectors:se,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,n){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1),e.TgZ(2,"span",2,3),e.TgZ(4,"input",4,5),e.NdJ("change",function(s){return n._onChangeEvent(s)})("click",function(s){return n._onInputClick(s)}),e.qZA(),e.TgZ(6,"span",6,7),e._UZ(8,"span",8),e.TgZ(9,"span",9),e._UZ(10,"span",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"span",11,12),e.NdJ("cdkObserveContent",function(){return n._onLabelTextChange()}),e.TgZ(13,"span",13),e._uU(14,"\xa0"),e.qZA(),e.Hsn(15),e.qZA(),e.qZA()),2&t){const a=e.MAs(1),s=e.MAs(12);e.uIk("for",n.inputId),e.xp6(2),e.ekj("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),e.xp6(2),e.Q6J("id",n.inputId)("required",n.required)("tabIndex",n.tabIndex)("checked",n.checked)("disabled",n.disabled),e.uIk("name",n.name)("aria-checked",n.checked)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.xp6(5),e.Q6J("matRippleTrigger",a)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(18,le,n._noopAnimations?0:150))}},directives:[m.wG,M.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),o})(),L=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),o})(),he=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[L,m.si,m.BQ,M.Q8],L,m.BQ]}),o})();function fe(o,l){if(1&o&&(e.TgZ(0,"div",14),e.TgZ(1,"h5",15),e._uU(2,"User Name"),e.qZA(),e.TgZ(3,"div",16),e._UZ(4,"p-dropdown",17),e.qZA(),e.qZA(),e.TgZ(5,"h5"),e._uU(6,"Permission"),e.qZA()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("options",t.userlist)}}function be(o,l){1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"th",18),e._uU(2," Module Name "),e._UZ(3,"p-sortIcon",19),e.qZA(),e.TgZ(4,"th",18),e._uU(5,"Sub Module name"),e.qZA(),e.TgZ(6,"th",18),e._uU(7,"Permission"),e.qZA(),e.qZA())}function ve(o,l){if(1&o&&(e.TgZ(0,"td"),e.TgZ(1,"span",29),e._uU(2),e.qZA(),e.qZA()),2&o){const t=e.oxw(),a=t.$implicit;e.uIk("rowspan",t.rowspan),e.xp6(2),e.hij(" ",a.moduleName,"")}}function we(o,l){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,ve,3,2,"td",20),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"div",21),e.TgZ(6,"div",22),e.TgZ(7,"label",23),e._uU(8,"Add"),e.qZA(),e._UZ(9,"mat-slide-toggle",24),e.qZA(),e.TgZ(10,"div",22),e.TgZ(11,"label",25),e._uU(12,"Edit"),e.qZA(),e._UZ(13,"mat-slide-toggle",26),e.qZA(),e.TgZ(14,"div",22),e.TgZ(15,"label",27),e._uU(16,"Delete"),e.qZA(),e._UZ(17,"mat-slide-toggle",28),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=l.$implicit,n=l.rowgroup;e.xp6(1),e.Q6J("ngIf",n),e.xp6(2),e.Oqu(t.subModuleName),e.xp6(2),e.Q6J("formGroupName",t.nameForForm)}}function Te(o,l){1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td",30),e._uU(2,"No records to show"),e.qZA(),e.qZA())}const N=function(){return["/modulepermission/rolelist"]},Ce=function(){return["username"]},Fe=[{path:"rolelist",component:X},{path:"permissionform",component:(()=>{class o{constructor(t,n,a,s){this.permissionService=t,this.userService=n,this.route=a,this.activatedRoute=s,this.userData=[],this.userlist=[],this.isChecked=!0,this.isOn=!1,this.permissionData=[{moduleName:"Catalogue",subModuleName:"Category",nameForForm:"CatalogCategory"},{moduleName:"Catalogue",subModuleName:"Product",nameForForm:"CatalogProduct"},{moduleName:"Catalogue",subModuleName:"ProductOption",nameForForm:"CatalogProduct"},{moduleName:"Marketing",subModuleName:"Coupon",nameForForm:"MarketingCoupon"},{moduleName:"Marketing",subModuleName:"Rewards",nameForForm:"MarketingRewards"},{moduleName:"CMS",subModuleName:"Banner",nameForForm:"CmsBanner"},{moduleName:"User",subModuleName:"User List",nameForForm:"UserList"},{moduleName:"Leads",subModuleName:"Lead List",nameForForm:"LeadList"},{moduleName:"Rating&Review",subModuleName:"Rating List",nameForForm:"RatingList"},{moduleName:"Rating&Review",subModuleName:"Review List",nameForForm:"ReviewList"},{moduleName:"Rating&Review",subModuleName:"Reviewer List",nameForForm:"ReviewerList"},{moduleName:"Rating&Review",subModuleName:"Rating Setting",nameForForm:"RatingSetting"},{moduleName:"Rating&Review",subModuleName:"Usertype Setting",nameForForm:"UsertypeSetting"},{moduleName:"Leave",subModuleName:"ProfileList",nameForForm:"profileList"},{moduleName:"Leave",subModuleName:"Team",nameForForm:"Team"},{moduleName:"Leave",subModuleName:"Calender",nameForForm:"calender"},{moduleName:"Leave",subModuleName:"Leave Tracker",nameForForm:"leaveTracker"},{moduleName:"Leave",subModuleName:"Leave Status",nameForForm:"leaveStatus"},{moduleName:"Leave",subModuleName:"Assets",nameForForm:"Assets"},{moduleName:"Leave",subModuleName:"Exit Details",nameForForm:"ExitDetails"},{moduleName:"Leave",subModuleName:"Reimbursement",nameForForm:"Reimbursement"},{moduleName:"Leave",subModuleName:"Documents",nameForForm:"documents"}],this.getUserList(),this.permissionForm=new i.cw({username:new i.NI("",[i.kI.required]),OrderList:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),OrderTransaction:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),OrderShipment:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),CatalogProduct:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),CatalogCategory:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),MarketingCoupon:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),MarketingRewards:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),CmsBanner:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),AppointmentList:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),UserList:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),RatingList:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),ReviewList:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),ReviewerList:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),LeadList:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),RatingSetting:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),UsertypeSetting:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),profileModule:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),profileList:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),Team:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),calender:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),leaveTracker:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),leaveStatus:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),Assets:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),ExitDetails:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),Reimbursement:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)}),documents:new i.cw({add:new i.NI(!1),edit:new i.NI(!1),delete:new i.NI(!1)})})}ngOnInit(){}onToggleChange(t){this.isChecked=t.target.checked,console.log("Toggle button state:",this.isChecked)}getPermissionDetail(){this.permissionService.getPermissionDetails(this.name).subscribe(t=>{t&&(this.permissionForm.patchValue({username:t[0].username}),t[0].OrderList&&this.permissionForm.patchValue({OrderList:{add:t[0].OrderList.add,edit:t[0].OrderList.edit,delete:t[0].OrderList.delete}}),t[0].OrderTransaction&&this.permissionForm.patchValue({OrderTransaction:{add:t[0].OrderTransaction.add,edit:t[0].OrderTransaction.edit,delete:t[0].OrderTransaction.delete}}),t[0].OrderShipment&&this.permissionForm.patchValue({OrderShipment:{add:t[0].OrderShipment.add,edit:t[0].OrderShipment.edit,delete:t[0].OrderShipment.delete}}),t[0].OrderShipment&&this.permissionForm.patchValue({OrderShipment:{add:t[0].OrderShipment.add,edit:t[0].OrderShipment.edit,delete:t[0].OrderShipment.delete}}),t[0].CatalogProduct&&this.permissionForm.patchValue({CatalogProduct:{add:t[0].CatalogProduct.add,edit:t[0].CatalogProduct.edit,delete:t[0].CatalogProduct.delete}}),t[0].CatalogCategory&&this.permissionForm.patchValue({CatalogCategory:{add:t[0].CatalogCategory.add,edit:t[0].CatalogCategory.edit,delete:t[0].CatalogCategory.delete}}),t[0].MarketingCoupon&&this.permissionForm.patchValue({MarketingCoupon:{add:t[0].MarketingCoupon.add,edit:t[0].MarketingCoupon.edit,delete:t[0].MarketingCoupon.delete}}),t[0].MarketingRewards&&this.permissionForm.patchValue({MarketingRewards:{add:t[0].MarketingRewards.add,edit:t[0].MarketingRewards.edit,delete:t[0].MarketingRewards.delete}}),t[0].MarketingRewards&&this.permissionForm.patchValue({MarketingRewards:{add:t[0].MarketingRewards.add,edit:t[0].MarketingRewards.edit,delete:t[0].MarketingRewards.delete}}),t[0].CmsBanner&&this.permissionForm.patchValue({CmsBanner:{add:t[0].CmsBanner.add,edit:t[0].CmsBanner.edit,delete:t[0].CmsBanner.delete}}),t[0].AppointmentList&&this.permissionForm.patchValue({AppointmentList:{add:t[0].AppointmentList.add,edit:t[0].AppointmentList.edit,delete:t[0].AppointmentList.delete}}),t[0].LeadList&&this.permissionForm.patchValue({LeadList:{add:t[0].LeadList.add,edit:t[0].LeadList.edit,delete:t[0].LeadList.delete}}),t[0].UserList&&this.permissionForm.patchValue({UserList:{add:t[0].UserList.add,edit:t[0].UserList.edit,delete:t[0].UserList.delete}}),t[0].RatingList&&this.permissionForm.patchValue({RatingList:{add:t[0].RatingList.add,edit:t[0].RatingList.edit,delete:t[0].RatingList.delete}}),t[0].ReviewList&&this.permissionForm.patchValue({ReviewList:{add:t[0].ReviewList.add,edit:t[0].ReviewList.edit,delete:t[0].ReviewList.delete}}),t[0].ReviewerList&&this.permissionForm.patchValue({ReviewerList:{add:t[0].ReviewerList.add,edit:t[0].ReviewerList.edit,delete:t[0].ReviewerList.delete}}),t[0].RatingSetting&&this.permissionForm.patchValue({RatingSetting:{add:t[0].RatingSetting.add,edit:t[0].RatingSetting.edit,delete:t[0].RatingSetting.delete}}),t[0].UsertypeSetting&&this.permissionForm.patchValue({UsertypeSetting:{add:t[0].UsertypeSetting.add,edit:t[0].UsertypeSetting.edit,delete:t[0].UsertypeSetting.delete}}),t[0].profileModule&&this.permissionForm.patchValue({profileModule:{add:t[0].profileModule.add,edit:t[0].profileModule.edit,delete:t[0].profileModule.delete}}),t[0].profileList&&this.permissionForm.patchValue({profileList:{add:t[0].profileList.add,edit:t[0].profileList.edit,delete:t[0].profileList.delete}}),t[0].Team&&this.permissionForm.patchValue({Team:{add:t[0].Team.add,edit:t[0].Team.edit,delete:t[0].Team.delete}}),t[0].calender&&this.permissionForm.patchValue({calender:{add:t[0].calender.add,edit:t[0].calender.edit,delete:t[0].calender.delete}}),t[0].leaveTracker&&this.permissionForm.patchValue({leaveTracker:{add:t[0].leaveTracker.add,edit:t[0].leaveTracker.edit,delete:t[0].leaveTracker.delete}}),t[0].leaveStatus&&this.permissionForm.patchValue({leaveStatus:{add:t[0].leaveStatus.add,edit:t[0].leaveStatus.edit,delete:t[0].leaveStatus.delete}}),t[0].Assets&&this.permissionForm.patchValue({Assets:{add:t[0].Assets.add,edit:t[0].Assets.edit,delete:t[0].Assets.delete}}),t[0].ExitDetails&&this.permissionForm.patchValue({ExitDetails:{add:t[0].ExitDetails.add,edit:t[0].ExitDetails.edit,delete:t[0].ExitDetails.delete}}),t[0].Reimbursement&&this.permissionForm.patchValue({profileForm:{add:t[0].Reimbursement.add,edit:t[0].Reimbursement.edit,delete:t[0].Reimbursement.delete}}),t[0].profileForm&&this.permissionForm.patchValue({profileForm:{add:t[0].documents.add,edit:t[0].documents.edit,delete:t[0].documents.delete}}),t[0].profileForm&&this.permissionForm.patchValue({profileForm:{add:t[0].profileForm.add,edit:t[0].profileForm.edit,delete:t[0].profileForm.delete}}))})}getUserList(){this.userService.getUsers().subscribe(t=>{let n=[];this.userData=t.data,t.data&&this.permissionService.getPermittedModuleList().subscribe(a=>{a.forEach(s=>{n.push(s.username)}),this.userData=this.userData.map(s=>{if(s.username&&(""!=s.username||null!=s.username)&&"superAdmin"!=s.role&&!n.includes(s.username))return this.userlist.push(s.username),s.username}),this.activatedRoute.queryParamMap.subscribe(s=>{this.name=s.get("user"),this.name?(this.title="Edit",this.getPermissionDetail(),Object.assign(this.userlist,n)):this.title="Add"})})})}submit(){let t=["Dashboard"],n={},a=this.permissionForm.controls.OrderList,s=this.permissionForm.controls.OrderTransaction,d=this.permissionForm.controls.OrderShipment,b=this.permissionForm.controls.CatalogProduct,R=this.permissionForm.controls.CatalogCategory,xe=this.permissionForm.controls.MarketingCoupon,Le=this.permissionForm.controls.MarketingRewards,Ne=this.permissionForm.controls.CmsBanner,Re=this.permissionForm.controls.AppointmentList,Ae=this.permissionForm.controls.LeadList,ke=this.permissionForm.controls.UserList,ye=this.permissionForm.controls.RatingList,Ie=this.permissionForm.controls.ReviewList,Se=this.permissionForm.controls.ReviewerList,Oe=this.permissionForm.controls.RatingSetting,Pe=this.permissionForm.controls.UsertypeSetting,Ue=this.permissionForm.controls.profileList,De=this.permissionForm.controls.Team,qe=this.permissionForm.controls.calender,Ee=this.permissionForm.controls.leaveTracker,je=this.permissionForm.controls.leaveStatus,Ge=this.permissionForm.controls.Assets,Ve=this.permissionForm.controls.ExitDetails,Be=this.permissionForm.controls.Reimbursement,Je=this.permissionForm.controls.documents;(Object.values(a.value).includes(!0)||Object.values(d.value).includes(!0)||Object.values(s.value).includes(!0))&&(console.log(Object.values(a.value).includes(!0),Object.values(d.value).includes(!0),Object.values(s.value).includes(!0)),t.push("Order")),(Object.values(b.value).includes(!0)||Object.values(R.value).includes(!0))&&t.push("Catalogue"),(Object.values(xe.value).includes(!0)||Object.values(Le.value).includes(!0))&&t.push("Marketing"),Object.values(Ne.value).includes(!0)&&t.push("CMS"),Object.values(Re.value).includes(!0)&&t.push("Appointment"),Object.values(Ae.value).includes(!0)&&t.push("Leads"),Object.values(ke.value).includes(!0)&&t.push("User"),(Object.values(ye.value).includes(!0)||Object.values(Ie.value).includes(!0)||Object.values(Se.value).includes(!0)||Object.values(Oe.value).includes(!0)||Object.values(Pe.value).includes(!0))&&t.push("Rating & Review"),(Object.values(Ue.value).includes(!0)||Object.values(De.value).includes(!0)||Object.values(qe.value).includes(!0)||Object.values(Ee.value).includes(!0)||Object.values(je.value).includes(!0)||Object.values(Ge.value).includes(!0)||Object.values(Ve.value).includes(!0)||Object.values(Be.value).includes(!0)||Object.values(Je.value).includes(!0))&&t.push("Leave"),console.log("abc100==>"+this.permissionForm),Object.assign(n,{moduleList:t}),Object.assign(n,this.permissionForm.value),console.log("xyz200==>"+JSON.stringify(n)),this.name?this.submitEditedPermissionDetails(n):this.submitPermissionDetails(n)}submitPermissionDetails(t){this.permissionService.submitPermissionDetail({Data:t}).subscribe(n=>{n&&this.route.navigate(["/modulepermission/rolelist"])})}submitEditedPermissionDetails(t){this.permissionService.submitEditedPermissionDetail({Data:t},this.name).subscribe(n=>{n&&this.route.navigate(["/modulepermission/rolelist"])})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C),e.Y36(K.f),e.Y36(p.F0),e.Y36(p.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit-permission"]],decls:20,vars:14,consts:[[1,"page-heading"],[3,"formGroup"],[1,"my-2","mb-3","button-heading-container"],[1,"mb-2","p-1","back-button",3,"routerLink"],[1,"material-icons"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped","rowGroupMode","rowspan","groupRowsBy","moduleName","sortField","moduleName","sortMode","single",3,"paginator","rows","showCurrentPageReport","value","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-end","mt-4"],["type","submit",1,"btn","btn-info","mr-3",2,"background","rgb(228, 28, 28)","border","none",3,"disabled","click"],[1,"btn","btn-info",2,"background","#637381","border","none",3,"routerLink"],[1,"form-group","col-8","d-flex","justify-content-start","align-items-center",2,"padding-left","0px"],[2,"margin-right","10px"],[1,"col-3","ml-4"],["styleClass","userDropdown","id","username","placeholder","Select User","formControlName","username",3,"options"],[1,"text-center"],["field","modulename"],[4,"ngIf"],[1,"d-flex","justify-content-center",3,"formGroupName"],[1,"d-flex","flex-column","mr-3",2,"width","50px"],["for","add"],["color","red-slide","formControlName","add","label","Toggle Button"],["for","edit"],["label","Toggle Button","formControlName","edit"],["for","delete"],["label","Toggle Button","formControlName","delete"],[1,"p-text-bold","p-ml-2"],["colspan","12",1,"text-danger"]],template:function(t,n){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"form",1),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e.TgZ(4,"i",4),e._uU(5,"arrow_back"),e.qZA(),e.qZA(),e.TgZ(6,"h4"),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div"),e.TgZ(9,"p-table",5,6),e.YNc(11,fe,7,1,"ng-template",7),e.YNc(12,be,8,0,"ng-template",8),e.YNc(13,we,18,3,"ng-template",9),e.YNc(14,Te,3,0,"ng-template",10),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"button",12),e.NdJ("click",function(){return n.submit()}),e._uU(17," Submit "),e.qZA(),e.TgZ(18,"button",13),e._uU(19," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.permissionForm),e.xp6(2),e.Q6J("routerLink",e.DdM(11,N)),e.xp6(4),e.hij("",n.title," Role with Permission"),e.xp6(2),e.Q6J("paginator",!1)("rows",10)("showCurrentPageReport",!0)("value",n.permissionData)("responsive",!0)("globalFilterFields",e.DdM(12,Ce)),e.xp6(7),e.Q6J("disabled",!n.permissionForm.valid),e.xp6(2),e.Q6J("routerLink",e.DdM(13,N)))},directives:[i._Y,i.JL,i.sg,p.rH,u.iA,F.jx,ee.Lt,i.JJ,i.u,u.fz,f.O5,i.x0,x],styles:["[_nghost-%COMP%]  .userDropdown{width:100%}  .p-datatable .p-datatable-header{background:white;color:#333;border:none;border-width:1px 1px 0 1px;padding:.857rem 1rem;font-weight:700}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none!important;border-bottom:1px solid #d7c6c6!important;justify-content:start}  .p-datatable .p-sortable-column .p-sortable-column-icon{color:#000;margin-left:.5rem}th[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;justify-content:center}td[_ngcontent-%COMP%]{justify-content:center}.back-button[_ngcontent-%COMP%]{background:#e41c1c;color:#fff;border:none;border-radius:5px;width:40px;margin-right:10px}  .back-button:hover{background-color:#f08080!important}.button-heading-container[_ngcontent-%COMP%]{display:flex;align-items:center}  .p-dropdown-panel p-dropdown-items{margin:0;padding:.429rem .857rem;border:0 none;color:gray;background:white;transition:background-color .2s,box-shadow .2s;border-radius:0}  .mat-slide-toggle-bar{background-color:#5b5bda!important}  .mat-slide-toggle-bar .mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}  .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ff40818a!important}  .mat-slide-toggle.mat-checked .mat-slide-toggle-bar .mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block;background-color:#ff40818a!important}  .p-dropdown-panel .p-dropdown-items .p-dropdown-item:not(.p-highlight):not(.p-disabled):hover{color:#fff!important;background:red!important}.page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;letter-spacing:1.2px;word-spacing:.1rem}"]}),o})()}];let _e=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.ez,p.Bz.forChild(Fe)]]}),o})();var Me=r(8997);let Ze=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.ez,_e,A.m,k.q4,y.QW,u.U$,I.A,S.D,c.Is,w.ot,O.L$,Me.h,he]]}),o})()}}]);