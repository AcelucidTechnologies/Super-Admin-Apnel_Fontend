<form [formGroup]="coupanForm">
  <div class="button-heading-container">
    <button
      class="mb-2 p-1 back-button"
      [routerLink]="['/marketing/coupanList']"
    >
      <i class="material-icons">arrow_back</i>
    </button>
    <h5>&nbsp;{{ title }}</h5>
  </div>

  <div class="card col-sm-12">
    <div class="row gutters">
      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
        <div class="h-100 mt-3">
          <div class="card-body">
            <div class="row gutters">
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="Name" class="col-form-label text-left starlabel"
                    >Coupon Name</label
                  ><br />
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter Coupon Name"
                    formControlName="couponName"
                  />
                  <div
                    *ngIf="
                      !coupanForm.controls['couponName'].valid &&
                      (coupanForm.controls['couponName'].touched ||
                        coupanForm.controls['couponName'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['couponName'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Coupon name is required
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="Name" class="col-form-label text-left starlabel"
                    >Coupon code</label
                  ><br />
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter Coupon Code"
                    formControlName="couponCode"
                  />
                  <div
                    *ngIf="
                      !coupanForm.controls['couponCode'].valid &&
                      (coupanForm.controls['couponCode'].touched ||
                        coupanForm.controls['couponCode'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['couponCode'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Coupon code is required
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row gutters">
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group dta">
                  <label for="Name" class="col-form-label text-left starlabel"
                    >Type</label
                  ><br />
                  <!-- <input
                    type="text"
                    class="form-control"
                    placeholder="Enter Type"
                    formControlName="coupontype"
                  /> -->
                  <p-dropdown [options]="type" id="role" formControlName="coupontype" placeholder="Select Type"></p-dropdown>

                  <!-- <p-dropdown [options]="type" id="type"
                                      placeholder="Select Type"
                                      formControlName="type"></p-dropdown> -->
                  <div
                    *ngIf="
                      !coupanForm.controls['coupontype'].valid &&
                      (coupanForm.controls['coupontype'].touched ||
                        coupanForm.controls['coupontype'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['coupontype'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Type is required
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="Name" class="col-form-label text-left starlabel"
                    >Discount</label
                  ><br />
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter Discount"
                    formControlName="discount"
                  />
                  <div
                    *ngIf="
                      !coupanForm.controls['discount'].valid &&
                      (coupanForm.controls['discount'].touched ||
                        coupanForm.controls['discount'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['discount'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Discount is required
                    </div>
                    <div
                      *ngIf="coupanForm.controls['discount'].errors['pattern']"
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Please enter a valid Discount
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row gutters">
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="Name" class="col-form-label text-left starlabel"
                    >Max Discount</label
                  ><br />
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter Max Discount"
                    formControlName="maxDiscount"
                  />
                  <div
                    *ngIf="
                      !coupanForm.controls['maxDiscount'].valid &&
                      (coupanForm.controls['maxDiscount'].touched ||
                        coupanForm.controls['maxDiscount'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['maxDiscount'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      maxDiscount is required
                    </div>
                    <div
                      *ngIf="
                        coupanForm.controls['maxDiscount'].errors['pattern']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Please enter a valid maxDiscount
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="Name" class="col-form-label text-left starlabel"
                    >Category</label
                  ><br />
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter Category"
                    formControlName="category"
                  />
                  <div
                    *ngIf="
                      !coupanForm.controls['category'].valid &&
                      (coupanForm.controls['category'].touched ||
                        coupanForm.controls['category'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['category'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Category is required
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row gutters">
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="Name" class="col-form-label text-left starlabel"
                    >Product</label
                  ><br />
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter Product"
                    formControlName="product"
                  />
                  <div
                    *ngIf="
                      !coupanForm.controls['product'].valid &&
                      (coupanForm.controls['product'].touched ||
                        coupanForm.controls['product'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['product'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Product is required
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label class="col-form-label text-left starlabel"
                    >Start Date</label
                  >
                  <div>
                    <p-calendar
                      [minDate]="dateFieldDate"
                      styleClass="date-picker"
                      formControlName="startDate"
                      placeholder="Enter Date"
                    ></p-calendar>
                  </div>
                  <div
                    *ngIf="
                      !coupanForm.controls['startDate'].valid &&
                      (coupanForm.controls['startDate'].touched ||
                        coupanForm.controls['startDate'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['startDate'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Start Date is required
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row gutters">
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label class="col-form-label text-left starlabel"
                    >End Date</label
                  >
                  <div>
                    <p-calendar
                      [minDate]="dateFieldDate"
                      styleClass="date-picker"
                      formControlName="endDate"
                      placeholder="Enter Date"
                    ></p-calendar>
                  </div>
                  <div
                    *ngIf="
                      !coupanForm.controls['endDate'].valid &&
                      (coupanForm.controls['endDate'].touched ||
                        coupanForm.controls['endDate'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['endDate'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      Follow-up Date is required
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="Name" class="col-form-label text-left starlabel"
                    >Uses per Coupon</label
                  ><br />
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter Uses per Coupon"
                    formControlName="usesPerCoupon"
                  />
                  <div
                    *ngIf="
                      !coupanForm.controls['usesPerCoupon'].valid &&
                      (coupanForm.controls['usesPerCoupon'].touched ||
                        coupanForm.controls['usesPerCoupon'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['usesPerCoupon'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      uses per coupon is required
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row gutters">
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="Name" class="col-form-label text-left starlabel"
                    >User per Coupon</label
                  ><br />
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter User per Coupon"
                    formControlName="userPerCoupon"
                  />
                  <div
                    *ngIf="
                      !coupanForm.controls['userPerCoupon'].valid &&
                      (coupanForm.controls['userPerCoupon'].touched ||
                        coupanForm.controls['userPerCoupon'].dirty)
                    "
                  >
                    <div
                      [hidden]="
                        !coupanForm.controls['userPerCoupon'].errors['required']
                      "
                      style="
                        color: rgb(253, 122, 122);
                        font-size: small;
                        font-style: italic;
                      "
                    >
                      User per coupon is required
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- ------------------------------------- -->

            <div class="row gutters mt-4">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mt-4">
                <div class="text-center">
                  <button
                    pButton
                    maxDiscount="button"
                    id="submit"
                    name="submit"
                    class="p-button mr-4 first-button"
                    (click)="submitForm()"
                    [disabled]="!coupanForm.valid"
                  >
                    {{ update }}
                  </button>
                  <button
                    pButton
                    maxDiscount="button"
                    id="submit"
                    name="submit"
                    class="p-button second-button"
                    [routerLink]="['/marketing/coupanList']"
                  >
                    Cancel
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <ngx-ui-loader
          [fgsColor]="'#000000'"
          [fgsType]="fgsType"
        ></ngx-ui-loader>
      </div>
    </div>
  </div>
</form>
